(function(e,o,t){var n,i,r,s,a;var c=function(t){var n=t.accountInfoArr||[];var i="";var r=t.queryCond||"";var s=t.optType;var a=t.desc;var c=t.userAccount||"";var p=t.opType;var v=t.operType;var _=t.reqType;var g=t.siteID;var m=t.tipsSceneID;var y=t.userAccountType||getAccountType(r);var b=t.btnLeftFn;authUserAccount=n[0].userAccount;authAccountType=n[0].accountType;showAuthUserAccount=getExpressPhone(authUserAccount);i+='<p class="inptips2">'+a+"</p>";i+='<div style="width:100%;height:16px;"></div>';i+='<div class="line-EMUI5" style="margin-bottom:8px;">';i+='<div id="accountDiv" >'+showAuthUserAccount+"</div>";i+="</div>";i+='<div class="dinput-UI5" id="authCodeDiv">';i+='<div id="getAuthCodeBtn" class="getAuthbtn"  intervaltime="60"><a class="a-EMUI5 getAuthText">'+rss_new.uc_common_get_authcode+'</a><div id="authCodeError" class="left"></div></div>';i+='<div id="authCodeInput" class="input-div  clearfloat"><input type="tel"  id="oldAuthCode" ><p id="oldAuthCode_error_info"></p></div>';i+="</div>";i+='<div id="msg_error_auth" class="error-tips-EMUI5 " style=""></div>';i+=l(n);var C=rss.enter_authcode_title;var w={title:rss_new.vertify_identity,uc:true,btnRight:{text:m==1?rss_new.common_next:rss_new.common_ok,fn:function(){var o=this;var n=e("#accountDiv span").text().trim();var i=e("#oldAuthCode")[0];if(!validator(i,true)){return false}var r=e("#oldAuthCode").val();var s={twoStepVerifyCode:r,verifyUserAccount:authUserAccount,verifyAccountType:authAccountType,opType:1,dialog:o,tipsSceneID:m};t.callbackFn(s,function(){o.hide()})}},btnLeft:{text:t.lBtnTxt,fn:function(){if(typeof b=="function"){b()}if(typeof CLOUDAUTH!="undefined"){o.history.back()}}},html:i,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var o=this;f(e("#oldAuthCode"),"#msg_error_auth","#authCodeDiv");d(authUserAccount,authAccountType);o.disabled();e("#oldAuthCode").on("textchange",function(){e("#msg_error_auth").html("");if(e("#oldAuthCode").val().trim()!=""){o.enable();return false}else{o.disabled()}});e("#getAuthCodeBtn").on("click",function(o){e("#authCodeDiv").removeClass("input-error-EMUI5");e("#msg_error_auth").html("");if(e("#getAuthCodeBtn").attr("disabled")){return false}var t=e("#accountDiv")[0];if(!validator(t,true)){return false}var n={phoneOrEmail:authUserAccount,authCodebtn:e("#getAuthCodeBtn")};n.siteID=g;n.type=s;n.reqType=_;n.errorDiv=e("#authCodeDiv");n.account=r;n.accountType=y;n.errorTip=e("#msg_error_auth");n.operType=v||8;h(n)});e("#otherAuth").click(function(){o.hide();var t=[];e.each(n,function(e,o){if(o.userAccount!=authUserAccount)t.push(o)});u(t,getAppealChangesLinkDiv(t),function(e,t){o.show();d(e,t)})})}};localInfo.authDialog=e("<div>").Dialog(w).Dialog("show")};function d(o,t){if(!o)return;authUserAccount=o;authAccountType=t;showAuthUserAccount=getExpressPhone(authUserAccount);e("#accountDiv").text(showAuthUserAccount);if(authUserAccount.indexOf("@")!=-1){e("#oldAuthCode").attr("placeholder",rss_new.registerbyphone_js_emailcodelength)}else{e("#oldAuthCode").attr("placeholder",rss_new.registerbyphone_js_codelength)}}function l(e){if(e.length<=1){return'<div class="center marginT16">'+getAppealChangesLinkDiv(e)+"</div>"}else{return'<div id="otherAuth" class="center marginT16"><a href="javascript:void(0)" class="a-EMUI5">'+rss_new.appeal_select_other_way+"</a></div>"}}function u(o,t,n,i){var r="";var s='<div class="uc-line" style="padding:0"><div></div></div>';var a={title:rss_new.resetPwd_choose_other_verify_way,btnRight:{text:rss_new.uc_common_cancel,fn:function(){this.hide();n()}},cancelFn:function(){this.hide();n()},dialogStyle:i||localInfo.msgDialogStyle,beforeAction:function(){var o=this;var o=this;addItemActive(e(".dialog-line"),"dialog-line-active","dialog-line-disabled");addItemActive(e(".a-EMUI5"),"a-EMUI5-active");e(".dialog-line").click(function(){o.hide();var t=e(this).data("useraccount");var i=e(this).data("accounttype");n(t,i)})}};e.each(o,function(e,o){r+='<div class="dialog-line" data-useraccount="'+o.userAccount+'" data-accounttype="'+o.accountType+'">'+'<span class="item-name item-left l"><a class="a-EMUI5">'+rss_new.auth_dialog_send_to.format(o.userAccount)+"</a></span>"+'<div class="item-right"><span class="info-value item-forward" ></span></div>'+"</div>"+s});r+="<div class='center marginT16'>"+t+"</a></div>";a.html=r;e("<div>").Dialog(a).Dialog("show");e(".global_dialog_confirm_content").css("padding-top","0px")}function f(o,t,n){o.validator("bind",{type:["require","length","int"],trim:true,validOnChange:false,max:8,min:4,errorFunction:function(o,i){e(n).addClass("input-error-EMUI5");switch(i.type){case"require":e(t).html(rss_new.common_js_inputcode);break;case"length":case"int":e(t).html(rss_new.common_wrong_authcode);break}},successFunction:function(o,t){e(n).removeClass("input-error-EMUI5")},reInputFunction:function(){e(t).html("");e(n).removeClass("input-error-EMUI5")}})}function h(o){var t=o.account;var n=o.phoneOrEmail;var i=o.accountType;var r=o.authCodebtn;var s=o.reqType;var a=o.siteID;var c="0";var d=o.errorDiv;c=o.operType;var l="";var u;h=o.getAuthCodeSuccessFn||h;p=o.getAuthCodeFailFn||p;r.attr("disabled");var f={"default":rss_new.uc_error_70002030,10000001:rss_new.uc_error_10000001_1};if(n.indexOf("@")!=-1){u={userAccount:t,accountType:i,reqClientType:localInfo.reqClientType,emailReqType:6,operType:c,email:n,siteID:a,languageCode:localInfo.lang};f["70001102"]=rss_new.uc_error_70001102_0;f["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCode(u,h,p,f)}else{u={accountType:i,userAccount:t,reqClientType:localInfo.reqClientType,mobilePhone:n,operType:c,smsReqType:6,siteID:a,languageCode:localInfo.lang};f["70001102"]=rss_new.uc_error_70001102_1;f["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSCodeV3(u,h,p,f)}function h(){if(u.email){showMsgSuccess({obj:e("#authCodeError"),msg:rss.emialHasSendTo.format(u.email),leftPix:"-220px",rightPix:"-220px",bottom:"27px"})}else{showMsgSuccess({obj:e("#authCodeError"),msg:rss.phoneMegHasSendTo.format(getExpressPhone(u.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"27px"})}r.addClass("auth_code_grey");jsInnerTimeout(r,rss.resend)}function p(o){d&&d.addClass("input-error-EMUI5");r.removeAttr("disabled");e("#authCodeDiv").addClass("input-error-EMUI5");e("#msg_error_auth").html(o)}}function p(o){var t=o.opType;var n="";if(o.tipsSceneID!="1"){n='<p id="authenDialog" class="resetPwd-subtitle" style="color:#191919">'+rss.risk_control_pwd+"</p>"}e("<div/>").Dialog({title:rss.set_newpassword,btnRight:{text:rss_new.common_ok,fn:function(){var t=this;if(!validator(e("#newPassword"),true)||!validator(e("#confirmPassword"),true)){return false}if(o.verifyID){var n=o.verifyself;n.hide()}var i=e("#newPassword").val();var r={newPassword:i,opType:o.opType,keepOtherDevLogon:e("#stLogoutCheckbox").prop("checked")?0:1};if(o.twoStepVerifyCode){r.twoStepVerifyCode=o.twoStepVerifyCode;r.verifyUserAccount=o.verifyUserAccount;r.verifyAccountType=o.verifyAccountType}o.callbackFn(r,function(){t.hide()})}},btnLeft:{text:rss.cancel_btn,fn:function(){}},beforeAction:function(){e("#pwdLength span").html(e("#pwdLength span").html().format(8,32));e("#pwdNumber span").html(e("#pwdNumber span").html().format(1));e.label.defaults.ifRight="10px";e.label(e("#newPassword"),rss.newPwd);e.label(e("#confirmPassword"),rss.confirmNewPwd);i.call(this);e("#pwdPic").click(function(){var o=document.getElementById("newPassword").type;if(o=="password"){document.getElementById("newPassword").type="text";document.getElementById("confirmPassword").type="text";e("#pwdPic").attr("src",localInfo.eyeon)}else{document.getElementById("newPassword").type="password";document.getElementById("confirmPassword").type="password";e("#pwdPic").attr("src",localInfo.eyeoff)}});i.call(this);e("#newPassword").keyup(function(){onPwdKeyUp4EMUI(this,e("#new_pwd_error_info"),e("#passwordDivTip"),"","input-error-EMUI5",true,"",true)});e(".stLogoutConfirm").on("click","#stLogoutCheckbox",function(o){var t=e(this);var n=t.next().find(".checkBox-icon");if(t.prop("checked")){if(n){n.removeClass("tick-off-icon").addClass("tick-on-icon")}}else{if(n){n.removeClass("tick-on-icon").addClass("tick-off-icon")}}});if(e("#st_faq_icon").length>0){e("#st_faq_icon").hover(function(){e(".st_faq_position").show()},function(){e(".st_faq_position").hide()})}},dialogStyle:localInfo.msgDialogStyle,html:n+'<div class="dinput-UI5" id="passwordDivTip"><div class="ico-div"><img class="eyeoff" id="pwdPic" src="'+localInfo.eyeoff+'"></div>'+'<div class="input-div"><input oncut="return false;" oncopy="return false" class="input-scroll" maxlength="32" id="newPassword" type="password"></div>'+'</div><div id="new_pwd_error_info" class="dinput-UI5-tip error-tips-EMUI5"></div>'+'<div class="dinput-UI5 confirmPwd" id="confirmPasswordDiv"><div class="input-div">'+'<input oncut="return false;" oncopy="return false" class="input-scroll" id="confirmPassword" maxlength="32" type="password"></div></div><div id="confirm_pwd_error_info" class="dinput-UI5-tip error-tips-EMUI5"></div>'+'<div class="stLogoutConfirm">'+'<input type="checkbox" class="checkbox vam" id="stLogoutCheckbox" name="stLogoutCheckbox" tabindex="4">'+'<label for="stLogoutCheckbox"><i id="stLogoutCheckbox_icon" class="checkBox-icon marginR6 tick-off-icon"></i>'+rss_new.st_logout_tips+"</label>"+'<div class="st_faq_box position_rel">'+'<span id="st_faq_icon"></span>'+'<div id="st_faq_des" class="st_faq_position"><span class="st_faq_arrow"></span>'+rss_new.st_logout_explain+"</div>"+"</div>"+"</div>"+'<div class="line-EMUI5 margin20-EMUI5">'+'<div class="normal-tips-EMUI5 pwd-format-des-head">'+rss.reset_pwd_format_title+" </div>"+'<div id="pwdLength" class="gray-tips-EMUI5 "><img class="pwd-format l" src="'+localInfo.formatNo+'">'+"<span>"+rss.reducePwd_format_1+"</span></div>"+'<div id="pwdChar" class="gray-tips-EMUI5 "> <img class="pwd-format l" src="'+localInfo.formatNo+'">'+"<span>"+rss.reducePwd_format_2+"</span></div>"+'<div id="pwdNumber" class="gray-tips-EMUI5 "> <img class="pwd-format l" src="'+localInfo.formatNo+'"">'+"<span>"+rss.reducePwd_format_3+'</span></div></div><div class="line8-EMUI5">'+'<div class="normal-tips-EMUI5">'+rss.pwd_strength+'&nbsp;<span id="pwdComplexFlag"></span></div></div>'+'<div class="line8-EMUI5"><div class="gray-tips-EMUI5"><div class="pwd-complex" style="margin-bottom:8px;">'+'<div id="pwdStong"></div></div></div>'+'<div style="margin-bottom:-8px;padding-left:8px">'+rss.uc_change_pwd_safe_tip+"</div></div>"}).Dialog("show");function i(){var o=e("#newPassword"),t=e("#confirmPassword"),n=this;this.disabled();validator.bind(o,{type:["require","strLength","hasSpace","pwdComplexity","errorInput"],trim:false,validOnChange:true,compareTo:t,min:8,max:32,msg_ct:"#new_pwd_error_info",errorFunction:function(o,t){e("#passwordDivTip").addClass("input-error-EMUI5");switch(t.type){case"require":e("#new_pwd_error_info").html(rss.common_js_inputpwd);break;case"strLength":e("#new_pwd_error_info").html(rss.reducePwd_format_2);break;case"hasSpace":e("#new_pwd_error_info").html(rss.reducePwd_format_1);break;case"pwdComplexity":e("#new_pwd_error_info").html(rss.reducePwd_format_3);break;case"errorInput":e("#new_pwd_error_info").html(rss.reducePwd_inputError_desc);break}},successFunction:function(e,o){},reInputFunction:function(){e("#new_pwd_error_info").html("");e("#passwordDivTip").removeClass("input-error-EMUI5")}});validator.bind(t,{type:["require","eq"],trim:false,validOnChange:true,compareTo:o,msg_ct:"#confirm_pwd_error_info",errorFunction:function(o,t){e("#confirmPasswordDiv").addClass("input-error-EMUI5");switch(t.type){case"require":e("#confirm_pwd_error_info").html(rss.common_js_confirmpwd);break;case"eq":e("#confirm_pwd_error_info").html(rss.common_js_pwdnotsame)}},successFunction:function(e,o){},reInputFunction:function(){e("#confirm_pwd_error_info").html("");e("#confirmPasswordDiv").removeClass("input-error-EMUI5")}});o.on("blur",function(){}).on("keyup",function(e){r()});t.on("blur",function(){}).on("keyup",function(e){r()});function i(){e("#new_pwd_error_info").empty();e("#confirm_pwd_error_info").empty();validator(e(this),true);r()}function r(){if(o.val()&&t.val()){n.enable()}else{n.disabled()}}registerPwdformatValidator()}}var v=function(o){var t="<div id='crossSite_content'>"+rss.new_cross_login_tip+"</div>";t+="<div id='crossSite_errDiv' style='margin-top:10px;font-size:12px;color:#ff3320'></div>";e("<div></div>").DialogSimple({text:t,btnText:rss.common_go_on,dialogStyle:localInfo.msgDialogStyle,btnFn:function(){var e=this;if(o.opType=="11"){var t={"mobilePhone":o.mobilePhone,"smsAuthCode":o.smsAuthCode,"authCode":o.authCode,"opType":o.opType}}else{var t={"userAccount":o.userAccount,"password":o.password,"opType":o.opType}}_(t,o.authcode,o.callbackFn,this);this.hide()},btnLeftText:rss.uc_common_cancel,btnLeftFn:function(){},html:t}).show()};function _(o,n,i,r){if(o.opType=="11"){var s={"userAccount":o.mobilePhone,"smsAuthCode":o.smsAuthCode,"authCode":o.authCode,"operType":"11","reqClientType":localInfo.reqClientType,"loginChannel":localInfo.loginChannel,"lang":localInfo.lang,"service":localInfo.service,"quickAuth":localInfo.quickAuth}}else{var s={"userAccount":o.userAccount,"password":o.password,"operType":1,"reqClientType":localInfo.reqClientType};if(localInfo.isSelectTwicePhoneAccount){s.userAccount=localInfo.userPhoneAccount}if(localInfo.isReReg==="1"){var a=e("#twicePhoneAccount").attr("data-attr");s.userAccount=a;s.password=e("#twice_login_password").val()}}ajaxHandler("agreeCrossSiteAgrs",s,function(o){var s=o.isSuccess;var a=o.errorCode;if(s=="1"){i({authcode:n});if(r!=t){r.hide()}}else{if(a=="70002003"){e("#crossSite_errDiv").html(rss.login_wrong)}else if(a=="70002057"){e("#crossSite_errDiv").html(rss.error_70002057_2)}else if(a=="70002058"){e("#crossSite_errDiv").html(rss.error_70002058)}else{e("#crossSite_errDiv").html(rss.overload)}}},function(){},false,"json")}var g=function(t){n=t.password;i=t.userAccount||"";if(i){r=t.userAccountType||getAccountType(i)}else{r=""}a=t.operType;var c=1;var d=t.siteID;var l=-1,u=-1;var f=rss_new.security_code_sent_des0;var h=t.btnLeftFn;s=t.pageType;var p=0;var v,_;e.each(t.authCodeSentList,function(e,o){if(o.name){o.name=htmlencode(o.name)}if(o.sent==1){p++;if(p==1){v=o.name}else if(p==2){_=o.name}l=o.accountType;u=o.name}});var g="<div id='sendCodeWayTip' style='margin-bottom:8px'>"+f+"</div>";g+='<div style="display:table;height:40px;width:100%;border-radius:20px" id="authCodeDiv" class="authCodeDivCom">';g+='<div id="num1" class="securityCodeDiv securityCodeHead"><input type="tel" maxlength="2" class="securityCodeInput" data-index="1"/></div>';g+='<div id="num2" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="2"/></div>';g+='<div id="num3" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="3"/></div>';g+='<div id="num4" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="4"/></div>';g+='<div id="num5" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="5"/></div>';g+='<div id="num6" class="securityCodeDiv securityCodeTail"><input type="tel" maxlength="2" class="securityCodeInput" data-index="6"/></div>';g+="</div>";g+='<div id="msg_error_auth" class="error-tips-EMUI5"></div>';g+='<div id="notRevice" style="width:100%;text-align: center;color: #007dff;margin: 20px auto;"><a class="a-EMUI5" style="font-size:14px">'+rss_new.auth_dialog_not_received+"</a></div>";localInfo.authDialog=e("<div/>").Dialog({title:rss_new.vertify_identity,btnLeft:{text:rss.cancel,fn:function(){if(typeof h=="function"){h()}}},btnRight:{text:rss.iKnowBtn,fn:function(){var e=this;var o=C();if(!o)return;var n={twoStepVerifyCode:o,opType:1};n.verifyAccountType=l;n.verifyUserAccount=u;t.callbackFn(n,function(){e.hide()})}},html:g,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var n=this;n.disabled();setTimeout(function(){e("#num1 input").focus()},0);e(".securityCodeInput").bind("keypress",function(e){e=e||o.event;var t=e.keyCode||e.which});e(".securityCodeInput").bind("keyup",function(t){t=t||o.event;var i=t.keyCode||t.which;var r=this;e("#authCodeDiv").removeClass("input-error-EMUI5");e("#msg_error_auth").html("");if(this.value==""){b(e(this).data("index"));return}if(this.value.length==2){var s="";if(/^\d$/.test(this.value[1])){s=this.value[1]}else{s=this.value[0]}this.value=s}if(/^\d$/.test(this.value)){y(e(r).data("index"))}else{this.value=""}if(C()){n.enable()}else{n.disabled()}});e(".securityCodeDiv").click(function(){e("input",e(this)).focus()});e("#notRevice a").click(function(){n.hide();m(i,t.authCodeSentList,function(o){n.show();if(!o)return;c=o[0].type;l=o[0].type;u=o[0].account;if(c==-1){e("#sendCodeWayTip").html(rss_new.security_code_sent_des0)}else{e("#sendCodeWayTip").html(rss_new.security_code_sent_des1.format(o[0].account))}},null,d)})}}).Dialog("show");e(".global_dialog_confirm_content").css("padding-bottom","0px");function y(o){o=o*1;if(o>=6){}else o++;e("#num"+o+" input").focus()}function b(o){o=o*1;if(o>1)o--;e("#num"+o+" input").focus()}function C(){var o="";e(".securityCodeDiv").each(function(t,n){o+=e("input",e(this)).val()});if(o.length!=6||isNaN(o*1)){o=false}return o}if(f&&f!=""){e("#sendCodeWayTip").css("margin-bottom","10px")}};function m(t,c,d,l,u){var f=getAccountType(t);var p=rss.send_seccode_to_sec;var v="";var _='<div class="uc-line" style="padding:0"><div></div></div>';var g="";var m,C,w="",A="";var I={title:rss.no_receive_security_code,btnRight:{text:rss.cancel,fn:function(){this.hide();d()}},cancelFn:function(){this.hide();d()},dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var n=this;n.$dialog.find(".global_dialog_confirm_content,.global_dialog_alert_content").css("padding-top","0px");e("#canNotUseSecAccount").find("a").text(rss.resetPwd_inputSecAuthCode_unableUsePhone);e("#canNotUseSecAccount").find("a").text(rss.resetPwd_inputSecAuthCode_unableUseEmail);var n=this;var i=e("#howtodo").html();e("#howtodo").parent().append("<a class='a-EMUI5 howtodo' >"+i+"</a>");e("#howtodo").remove();e(".howtodo").click(function(){o.open(localInfo.secCodeAndSecondLoginFaqUrl)});e("#resend").click(function(){P(n)});e(".account-line").click(function(){var o=e(this);var i={authCodebtn:e("#getAuthCodeBtn")};i.errorDiv=e("#authCodeDiv");i.account=t;i.accountType=r;i.siteID=u;i.errorTip=e("#msg_error_auth");i.operType=a||8;i.phoneOrEmail=o.attr("account");i.getAuthCodeSuccessFn=function(){n.hide();d([{type:o.attr("type"),account:o.attr("account")}])};i.getAuthCodeFailFn=function(e,o){n.hide();var t=o.errorCode;var i=rss_new.uc_common_hint;if("70001102"==t&&"70001104"==t){e=rss_new.send_code_too_many_times}y(i,e,n)};h(i)});addItemActive(e(".dialog-line"),"dialog-line-active","dialog-line-disabled");addItemActive(e(".a-EMUI5"),"a-EMUI5-active")}};g="<div class='dialog-line ' id='resend' type='-1'> <span class='item-name item-left l'>"+rss.send_to_device+"</span>"+"<div class='item-right '><span class='info-value item-forward' ></span></div></div>"+_;e.each(c,function(e,o){if(o.accountType!=-1){A+='<div class="dialog-line account-line" account= "'+o.name+'" type="'+o.accountType+'">'+'<span class="item-name item-left l">'+p.format(o.name)+"</span>"+'<div class="item-right "><span class="info-value item-forward" ></span></div>'+"</div>"+_}});var x="<div class='margin-t16-b16'><div>"+rss.offline_device_problem+"</div><div>"+rss.getcode_onoffline+"</div></div>"+getAppealChangesLinkDiv(c);v=g+A+w+x;I.html=v;e("<div>").Dialog(I).Dialog("show");e(".global_dialog_confirm_content").css("padding-bottom","0px");function P(e){var o={reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,accountType:r,userAccount:i,password:n,operType:s};b(o,function(o){var t=[];if(o.length>=1){t.push({type:-1,account:htmlencode(o[0].name)})}if(o.length>=2){t.push({type:-1,account:htmlencode(o[1].name)})}e.hide();d(t)},e)}}var y=function(o,t,n){var i="";i+="<div>"+t+"</div>";i+='<div style="width:100%;height:16px;"></div>';e("<div/>").Dialog({title:o,btnLeft:false,btnRight:{text:rss.common_I_know,fn:function(){this.hide();n.show()}},html:i,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")};function b(o,t,n){var i="getSecurityCode";e.ajax({url:getWebUrlHttps()+i+"?reflushCode="+Math.random(),type:"POST",data:o,beforeSend:function(e){e.setRequestHeader("Page-Token","undefined"==typeof pageToken?"":pageToken)},success:function(e){if(e.isSuccess=="1"){t(e.authCodeSentList)}else{n.hide();if(e.errorCode=="70001105"){y(rss.send_code_too_many_times,rss.send_code_toomany_tip,n)}else{y(rss.hint,rss.error_10000001_1,n)}}}})}function C(o){var t='<div id="forceBindPhoneDialog">'+'<div class="forceBindPhoneInfo">'+rss_new.forceBindPhone_content_info+"</div>"+'<div class="dinput-UI5 marginTop16" id="forceBindPhoneNumDiv">'+'<div class="l inputLeft"><div id="forceBindLangCode"></div></div>'+'<div class="input-div" id="forceBindPhoneInputDiv"><input class="input-number" type="text" id="forceBindPhoneNum" name="phone" maxlength="20" /></div>'+'</div><div id="forceBindPhoneErrInfo"></div>'+'<div class="dinput-UI5 marginTop16" id="getForceBindAuthCodeDiv">'+'<div class="getAuthbtn" id="getForceBindAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="getForceBindAuthCodeError"></div></div>'+'<div class="input-div"><input maxlength="8" id="forceBindPhoneAuthCode" type="text"></div></div><div id="forceBind_auth_error_tip" ></div>'+"</div>";getCountryCallingCode(function(t){localInfo.curAcctCountryRegions=[];localInfo.curAcctCountryRegionsOrderByLetter=rebuildCountryRegions(t.orderByLetterMap,localInfo.curAcctCountryRegions);e("#forceBindLangCode").DropListEMUI5({items:localInfo.curAcctCountryRegions,defaultValue:localInfo.default_country_code,onChange:function(o,t){e("#forceBindLangCode .select-text").text(t).attr({"data-regions":o.split(",")[0],"data-countrycode":o.split(",")[1],"data-countrysite":o.split(",")[2]})}});if(isJSONStr(o.errorDesc,"errorDescObj")){e.each(localInfo.curAcctCountryRegions,function(o,t){if(t.value.split(",")[0]==localInfo.errorDescObj.AcctNationalCode){e("#forceBindLangCode .select-text").text(t.label).attr({"data-regions":t.value.split(",")[0],"data-countrycode":t.value.split(",")[1],"data-countrysite":t.value.split(",")[2]})}})}else if(localInfo.curAcctCountryRegions.length>0){e("#forceBindLangCode .select-text").text(localInfo.curAcctCountryRegions[0].label).attr({"data-regions":localInfo.curAcctCountryRegions[0].value.split(",")[0],"data-countrycode":localInfo.curAcctCountryRegions[0].value.split(",")[1],"data-countrysite":localInfo.curAcctCountryRegions[0].value.split(",")[2]})}},false);var n=e(".global_dialog_confirm_main");var i={title:rss_new.forceBindPhone_title_addPhone,btnRight:{text:rss_new.box_js_confirm,fn:function(){var t=this;if(!validator(e("#forceBindPhoneDialog #forceBindPhoneNum"),true)||!validator(e("#forceBindPhoneDialog #forceBindPhoneAuthCode"),true)){return false}var n=getPhoneNumber(e("#forceBindPhoneDialog #forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(e("#forceBindPhoneDialog .select-text").attr("data-countrycode")));var i={opType:"14",forceBindSecAccount:n,forceBindSecAccountAuthCode:e("#forceBindPhoneDialog #forceBindPhoneAuthCode").val()};o.callbackFn(i,function(){t.hide()})}},html:t,beforeAction:function(){var o=this;var t=e("#forceBindPhoneNum");var n=e("#forceBindPhoneAuthCode");o.disabled();e.label(t,rss_new.login_label_userPhone);validator.bind(t,{type:["require","phoneNumber"],validOnChange:true,countryCode:"#forceBindLangCode .select-text",errorFunction:function(o,t){switch(t.type){case"require":r(rss_new.common_js_emptyphone,e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"));break;case"phoneNumber":r(rss_new.common_js_error,e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"));break}},successFunction:function(){},reInputFunction:function(){s(e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"));a(o)}});e.label(n,rss_new.registerbyphone_js_codelength);validator.bind(n,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:true,errorFunction:function(o,t){switch(t.type){case"require":r(rss_new.forgetbyphone_inputsmscode,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));break;case"length":r(rss_new.forgetbyphone_wrongsmscode,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));break;case"number":r(rss_new.forgetbyphone_wrongsmscode,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));break}},successFunction:function(e,o){},reInputFunction:function(){s(e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));a(o)}});e("#getForceBindAuthCodeBtn").on("click",function(){if(!validator(e("#forceBindPhoneInputDiv"),true)){return false}if(e("#getForceBindAuthCodeBtn").attr("disabled")){return false}var o=getPhoneNumber(e("#forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(e("#forceBindPhoneDialog .select-text").attr("data-countrycode")));var t={userAccount:o,mobilePhone:o,accountType:"6",smsReqType:"3",reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,operType:"25"};var n=e("#getForceBindAuthCodeBtn");var i={10000001:rss_new.uc_error_10000001_1,"default":rss_new.uc_error_70002030,70001102:rss_new.uc_error_70001102_1,70001104:rss_new.uc_error_70001104_1};casAjaxObj.getSMSAuthCode(t,s,a,i);function s(o){n.attr("disabled");showMsgSuccess({obj:e("#getForceBindAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(t.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"86px"});n.addClass("auth_code_grey");jsInnerTimeout(n,rss_new.uc_common_resend)}function a(o,t){n.removeAttr("disabled");if("70009032"==t.errorCode){r(o,e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"))}else{r(o,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"))}}})}};if(n.length>0){n.remove();e(".global_black_overlay").remove()}e("<div>").Dialog(i).Dialog("show");function r(e,o,t){o.text(e).addClass("error-tips-EMUI5");if(t){t.addClass("input-error-EMUI5")}}function s(e,o){e.text("").removeClass("error-tips-EMUI5");if(o){o.removeClass("input-error-EMUI5")}}function a(o){if(e("#forceBindPhoneNum").val().trim().length>0&&e("#forceBindPhoneAuthCode").val().trim().length>0){o.enable()}else{o.disabled()}}}function w(o){var t='<div id="forceBindPhoneDialog">'+'<div class="dinput-UI5 marginTop16" id="forceBindPhoneNumDiv">'+'<div class="l inputLeft"><div id="forceBindLangCode"></div></div>'+'<div class="input-div" id="forceBindPhoneInputDiv"><input class="input-number" type="text" id="forceBindPhoneNum" name="phone" maxlength="20" /></div>'+'</div><div id="forceBindPhoneErrInfo"></div>'+'<div class="dinput-UI5 marginTop16" id="getForceBindAuthCodeDiv">'+'<div class="getAuthbtn" id="getForceBindAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="getForceBindAuthCodeError"></div></div>'+'<div class="input-div"><input maxlength="8" id="forceBindPhoneAuthCode" type="text"></div></div><div id="forceBind_auth_error_tip" ></div>'+"</div>";getCountryCallingCode(function(t){localInfo.curAcctCountryRegions=[];localInfo.curAcctCountryRegionsOrderByLetter=rebuildCountryRegions(t.orderByLetterMap,localInfo.curAcctCountryRegions);e("#forceBindLangCode").DropListEMUI5({items:localInfo.curAcctCountryRegions,defaultValue:localInfo.default_country_code,onChange:function(o,t){e("#forceBindLangCode .select-text").text(t).attr({"data-regions":o.split(",")[0],"data-countrycode":o.split(",")[1],"data-countrysite":o.split(",")[2]})}});if(isJSONStr(o.errorDesc,"errorDescObj")){e.each(localInfo.curAcctCountryRegions,function(o,t){if(t.value.split(",")[0]==localInfo.errorDescObj.AcctNationalCode){e("#forceBindLangCode .select-text").text(t.label).attr({"data-regions":t.value.split(",")[0],"data-countrycode":t.value.split(",")[1],"data-countrysite":t.value.split(",")[2]})}})}else if(localInfo.curAcctCountryRegions.length>0){e("#forceBindLangCode .select-text").text(localInfo.curAcctCountryRegions[0].label).attr({"data-regions":localInfo.curAcctCountryRegions[0].value.split(",")[0],"data-countrycode":localInfo.curAcctCountryRegions[0].value.split(",")[1],"data-countrysite":localInfo.curAcctCountryRegions[0].value.split(",")[2]})}},false);var n=e(".global_dialog_confirm_main");var i={title:rss_new.login_bind_new_phone,btnRight:{text:rss_new.box_js_confirm,fn:function(){var t=this;if(!validator(e("#forceBindPhoneDialog #forceBindPhoneNum"),true)||!validator(e("#forceBindPhoneDialog #forceBindPhoneAuthCode"),true)){return false}var n=getPhoneNumber(e("#forceBindPhoneDialog #forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(e("#forceBindPhoneDialog .select-text").attr("data-countrycode")));var i={opType:"15",forceChangePhone:n,forceChangePhoneAuthCode:e("#forceBindPhoneDialog #forceBindPhoneAuthCode").val()};o.callbackFn(i,function(){t.hide()})}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){I(o)}},html:t,beforeAction:function(){var o=this;var t=e("#forceBindPhoneNum");var n=e("#forceBindPhoneAuthCode");o.disabled();e.label(t,rss_new.login_label_userPhone);validator.bind(t,{type:["require","phoneNumber"],validOnChange:true,countryCode:"#forceBindLangCode .select-text",errorFunction:function(o,t){switch(t.type){case"require":r(rss_new.common_js_emptyphone,e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"));break;case"phoneNumber":r(rss_new.common_js_error,e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"));break}},successFunction:function(){},reInputFunction:function(){s(e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"));a(o)}});e.label(n,rss_new.registerbyphone_js_codelength);validator.bind(n,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:true,errorFunction:function(o,t){switch(t.type){case"require":r(rss_new.forgetbyphone_inputsmscode,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));break;case"length":r(rss_new.forgetbyphone_wrongsmscode,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));break;case"number":r(rss_new.forgetbyphone_wrongsmscode,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));break}},successFunction:function(e,o){},reInputFunction:function(){s(e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"));a(o)}});e("#getForceBindAuthCodeBtn").on("click",function(){if(!validator(e("#forceBindPhoneInputDiv"),true)){return false}if(e("#getForceBindAuthCodeBtn").attr("disabled")){return false}var o=getPhoneNumber(e("#forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(e("#forceBindPhoneDialog .select-text").attr("data-countrycode")));var t={userAccount:o,mobilePhone:o,accountType:"6",smsReqType:"3",reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,operType:localInfo.operType4ForceChangePhone||"25",siteID:localInfo.userSiteID||""};var n=e("#getForceBindAuthCodeBtn");var i={10000001:rss_new.uc_error_10000001_1,"default":rss_new.uc_error_70002030,70001102:rss_new.uc_error_70001102_1,70001104:rss_new.uc_error_70001104_1};casAjaxObj.getSMSAuthCode(t,s,a,i);function s(o){n.attr("disabled");showMsgSuccess({obj:e("#getForceBindAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(t.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"86px"});n.addClass("auth_code_grey");jsInnerTimeout(n,rss_new.uc_common_resend)}function a(o,t){n.removeAttr("disabled");if("70009032"==t.errorCode){r(o,e("#forceBindPhoneErrInfo"),e("#forceBindPhoneNumDiv"))}else{r(o,e("#forceBind_auth_error_tip"),e("#getForceBindAuthCodeDiv"))}}})}};if(n.length>0){n.remove();e(".global_black_overlay").remove()}e("<div>").Dialog(i).Dialog("show");function r(e,o,t){o.text(e).addClass("error-tips-EMUI5");if(t){t.addClass("input-error-EMUI5")}}function s(e,o){e.text("").removeClass("error-tips-EMUI5");if(o){o.removeClass("input-error-EMUI5")}}function a(o){if(e("#forceBindPhoneNum").val().trim().length>0&&e("#forceBindPhoneAuthCode").val().trim().length>0){o.enable()}else{o.disabled()}}}function A(o){e(".global_dialog_confirm_main").remove();e(".global_black_overlay").remove();var t=localInfo.userPhoneAccount;if(isJSONStr(o.errorDesc,"errorBindDescObj")){t=t||localInfo.errorBindDescObj.userAccount}e("<div/>").Dialog({title:rss_new.login_old_user_tip_title,titleUnderline:false,btnRight:{text:rss_new.third_bind_submit,fn:function(){w(o)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){if(o.abandonForceChangePhoneFn instanceof Function){o.abandonForceChangePhoneFn()}}},html:'<div style="margin-bottom:32px;"><p>'+rss_new.login_old_user_tip_content_1.format(getExpressPhone(t))+"</p>"+'<div class="marginTop8 reReg-list-row"><span class="p-left-img p-left"></span><p class="p-right">'+rss_new.login_old_user_tip_content_2.format(getExpressPhone(t))+"</div>"+'<div class="marginTop8 reReg-list-row"><span class="p-left-img p-left"></span><p class="p-right">'+rss_new.login_old_user_tip_content_3+"</div></div>"}).Dialog("show")}function I(o){e("<div/>").Dialog({btnRight:{text:rss_new.login_bind_contine,fn:function(){w(o)}},btnLeft:{text:rss_new.login_bind_cancel,fn:function(){if(o.abandonForceChangePhoneFn instanceof Function){o.abandonForceChangePhoneFn()}}},html:'<div style="margin:36px 0;">'+rss_new.login_bind_cancel_tip+"</div>"}).Dialog("show")}function x(o,t){var n=o.verifyAccountList;var i="",r="";if(o.verifyAccountList&&o.verifyAccountList.length>0){i=n[0].accountType;r=getExpressPhone(n[0].userAccount);localInfo.verifyAccountCountryCode=n[0].accountCountryCode}var s='<div id="verifyOrChangeMobilePhone">'+'<div class="forceBindPhoneInfo">'+rss_new.verifyOrChangeMobilePhone_content_info+"</div>"+'<div class="marginTop16 marginBottom8"><span id="verifyMobileAccount" class="nophonewrap userAccount">'+r+"</span></div>"+'<div class="dinput-UI5" id="getVerifyMobileAuthCodeDiv">'+'<div class="getAuthbtn" id="getVerifyMobileAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="verifyMobileAuthCodeError"></div></div>'+'<div class="input-div"><input maxlength="8" id="verifyMobileAuthCode" type="text"></div></div><div id="verifyMobileAuthErrTip" ></div>'+'<div class="center marginTop16">'+rss_new.inputSecAuthCode_cantUsePhone+'<span class="changeMobilePhonelink">'+rss_new.changeMobilePhone_label+"</span></div>"+"</div>";var a={title:rss_new.resetPwd_varifyPhone,btnRight:{text:rss_new.box_js_confirm,fn:function(){var o=this;if(!validator(e("#getVerifyMobileAuthCodeDiv"),true)){return false}var n={accountType:i,userAccount:r,authCode:e("#verifyMobileAuthCode").val().trim(),authOprType:"3",reqClientType:localInfo.reqClientType,operType:"13"};var s={10000001:rss_new.common_wrong_authcode,"default":rss_new.common_wrong_authcode};casAjaxObj.chkAuthCode(n,t,a,s);function a(o,t){c(o,e("#verifyMobileAuthErrTip"),e("#getVerifyMobileAuthCodeDiv"))}}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){t()}},html:s,beforeAction:function(){var o=this;var t=e("#verifyMobileAuthCode");e.label(t,rss_new.registerbyphone_js_codelength);validator.bind(t,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:true,errorFunction:function(o,t){switch(t.type){case"require":c(rss_new.forgetbyphone_inputsmscode,e("#verifyMobileAuthErrTip"),e("#getVerifyMobileAuthCodeDiv"));break;case"length":c(rss_new.forgetbyphone_wrongsmscode,e("#verifyMobileAuthErrTip"),e("#getVerifyMobileAuthCodeDiv"));break;case"number":c(rss_new.forgetbyphone_wrongsmscode,e("#verifyMobileAuthErrTip"),e("#getVerifyMobileAuthCodeDiv"));break}},successFunction:function(e,o){},reInputFunction:function(){d(e("#verifyMobileAuthErrTip"),e("#getVerifyMobileAuthCodeDiv"))}});e("#getVerifyMobileAuthCodeBtn").on("click",function(){if(e("#getVerifyMobileAuthCodeBtn").attr("disabled")){return false}var o={userAccount:r,mobilePhone:r,accountType:i,smsReqType:"3",reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,operType:"26"};var t=e("#getVerifyMobileAuthCodeBtn");var n={10000001:rss_new.uc_error_10000001_1,"default":rss_new.uc_error_70002030,70001102:rss_new.uc_error_70001102_1,70001104:rss_new.uc_error_70001104_1};casAjaxObj.getSMSAuthCode(o,s,a,n);function s(n){t.attr("disabled");showMsgSuccess({obj:e("#verifyMobileAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(o.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"32px"});t.addClass("auth_code_grey");jsInnerTimeout(t,rss_new.uc_common_resend)}function a(o,n){t.removeAttr("disabled");c(o,e("#verifyMobileAuthErrTip"),e("#getVerifyMobileAuthCodeDiv"))}});e(".changeMobilePhonelink").on("click",function(){o.hide();l(o)})}};e("<div>").Dialog(a).Dialog("show");function c(e,o,t){o.text(e).addClass("error-tips-EMUI5");if(t){t.addClass("input-error-EMUI5")}}function d(e,o){e.text("").removeClass("error-tips-EMUI5");if(o){o.removeClass("input-error-EMUI5")}}function l(o){var n={accountType:i,userAccount:r,sceneID:"21",reqClientType:localInfo.reqClientType};casAjaxObj.chkSecurityRisk(n,function(e){var n={callback:t,dialog:o,riskfreeKey:isRiskfree(e.riskfreeKey),accountType:i,frequentlyDev:e.frequentlyDev};P(n)},function(t,n){o.show();c(t,e("#verifyMobileAuthErrTip"))})}}function P(o){if(o.riskfreeKey){t()}else{i(o)}function t(){var t={sceneID:"21"};casAjaxObj.get4FactorsList(t,function(e){o.userAcctInfoList=e.userAcctInfoList;n(o)},function(t){o.dialog.show();e("#verifyMobileAuthErrTip").text(t).addClass("error-tips-EMUI5")})}function n(t){var n=t.userAcctInfoList;var a=getExpressPhone(n[0].userAccount);var c=n[0].accountType;var d="";d+='<div id="verifyIdentidy"><p class="inptips2">'+rss_new.auth_dialog_des+"</p>";d+='<div style="width:100%;height:16px;"></div>';d+='<div class="line-EMUI5" style="margin-bottom:8px;">';d+='<div id="verifyIdAccountDiv" data-type="'+c+'">'+a+"</div>";d+="</div>";d+='<div class="dinput-UI5 authCodeDivCom" id="verifyIdAuthCodeDiv">';d+='<div id="getVerifyIdAuthCodeBtn" class="getAuthbtn"  intervaltime="60"><a class="a-EMUI5 getAuthText">'+rss_new.uc_common_get_authcode+'</a><div id="verifyIdAuthCodeError" class="left"></div></div>';d+='<div id="verifyIdAuthCodeInput" class="input-div  clearfloat"><input type="tel"  id="verifyIdAuthCode" ><p id="verifyIdAuthCodeErrTip"></p></div>';d+="</div>";d+='<div id="verifyIdAuthCodeErrMsg"></div></div>';d+=u(n);var l={title:rss_new.vertify_identity,uc:true,btnRight:{text:rss_new.box_js_confirm,fn:function(){var t=this;if(!validator(e("#verifyIdAuthCodeDiv"),true)){return false}var n={userAccount:a,accountType:c,authOprType:"3",authCode:e("#verifyIdAuthCode").val().trim(),reqClientType:localInfo.reqClientType,operType:14};casAjaxObj.chkAuthCode(n,function(e){t.hide();var r=o;r.oldAccountType=n.accountType;r.oldAuthCode=n.authCode;r.preDialog=t;i(r)},function(o,t){r(o,e("#verifyIdAuthCodeErrMsg"),e("#verifyIdAuthCodeDiv"))})}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){this.hide();t.dialog.show()}},html:d,dialogStyle:"dialog",beforeAction:function(){var o=this;o.disabled();var t=e("#verifyIdAuthCode");if(a.indexOf("@")!=-1){e.label(t,rss_new.registerbyphone_js_emailcodelength)}else{e.label(t,rss_new.registerbyphone_js_codelength)}validator.bind(t,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:true,errorFunction:function(o,t){switch(t.type){case"require":r(rss_new.forgetbyphone_inputsmscode,e("#verifyIdAuthCodeErrMsg"),e("#verifyIdAuthCodeDiv"));break;case"length":r(rss_new.common_js_wrongcode,e("#verifyIdAuthCodeErrMsg"),e("#verifyIdAuthCodeDiv"));break;case"number":r(rss_new.common_js_wrongcode,e("#verifyIdAuthCodeErrMsg"),e("#verifyIdAuthCodeDiv"));break}},successFunction:function(e,o){},reInputFunction:function(){if(t.val().trim()!=""){o.enable()}else{o.disabled()}s(e("#verifyIdAuthCodeErrMsg"),e("#verifyIdAuthCodeDiv"))}});e("#verifyIdOtherAuth").click(function(){o.hide();var t=[];e.each(n,function(e,o){if(o.userAccount!=a)t.push(o)});f(t,getAppealChangesLinkDiv(t),function(t,n){o.show();if(!t){return}a=t;c=n;e("#verifyIdAccountDiv").text(getExpressPhone(a)).attr("data-type",n)})});e("#getVerifyIdAuthCodeBtn").on("click",function(o){if(e("#getVerifyIdAuthCodeBtn").attr("disabled")){return false}$btn=e("#getVerifyIdAuthCodeBtn");var t={languageCode:localInfo.lang,reqClientType:localInfo.reqClientType,operType:"27"};var n={"default":rss_new.uc_error_70002030,10000001:rss_new.uc_error_10000001_1};if("2"==c||"6"==c){t.accountType=c;t.smsReqType="3";n["70001102"]=rss_new.uc_error_70001102_1;n["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSAuthCode(t,function(o){$btn.attr("disabled");showMsgSuccess({obj:e("#verifyIdAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(a)),leftPix:"-220px",rightPix:"-220px",bottom:"32px"});$btn.addClass("auth_code_grey");jsInnerTimeout($btn,rss_new.uc_common_resend)},function(o,t){r(o,e("#verifyIdAuthCodeErrMsg"))})}else{t.accountType=c;t.emailReqType="3";n["70001102"]=rss_new.uc_error_70001102_0;n["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCode(t,function(o){$btn.attr("disabled");showMsgSuccess({obj:e("#verifyIdAuthCodeError"),msg:rss_new.uc_common_email_has_sendto.format(getExpressPhone(a)),leftPix:"-220px",rightPix:"-220px",bottom:"32px"});$btn.addClass("auth_code_grey");jsInnerTimeout($btn,rss_new.uc_common_resend)},function(o,t){r(o,e("#verifyIdAuthCodeErrMsg"))})}})}};e("<div></div>").Dialog(l).Dialog("show");function u(e){if(e.length<=1){return'<div class="center marginT16">'+getAppealChangesLinkDiv(e)+"</div>"}else{return'<div id="verifyIdOtherAuth" class="center marginT16"><a href="javascript:void(0)" class="a-EMUI5">'+rss_new.appeal_select_other_way+"</a></div>"}}function f(o,t,n){var i="";var r='<div class="uc-line" style="padding:0"><div></div></div>';var s={title:rss_new.resetPwd_choose_other_verify_way,btnRight:{text:rss_new.uc_common_cancel,fn:function(){this.hide();n()}},cancelFn:function(){this.hide();n()},dialogStyle:"dialog",beforeAction:function(){var o=this;e(".dialog-line").click(function(){o.hide();var t=e(this).data("useraccount");var i=e(this).data("accounttype");n(t,i)})}};e.each(o,function(e,o){i+='<div class="dialog-line" data-useraccount="'+o.userAccount+'" data-accounttype="'+o.accountType+'">'+'<span class="item-name item-left l"><a class="a-EMUI5">'+rss_new.auth_dialog_send_to.format(o.userAccount)+"</a></span>"+'<div class="item-right"><span class="info-value item-forward" ></span></div>'+"</div>"+r});i+="<div class='center marginT16'>"+t+"</a></div>";s.html=i;e("<div>").Dialog(s).Dialog("show")}}function i(t){var n='<div id="changeMobileDialog">'+'<div class="dinput-UI5 userAccountDiv" id="changeMobilePhoneNumDiv">'+'<div class="l inputLeft"><div id="changeMobileLangCode"></div></div>'+'<div class="input-div" id="changeMobileNewAccDiv"><input class="input-number" type="tel" id="changeMobileNewAcc" name="phone" maxlength="20"/></div>'+'</div><div id="changeMobileNewAccErrTip"></div>'+'<div class="dinput-UI5 authCodeDiv marginTop16" id="changeMobileNewAuthCodeDiv">'+'<div class="getAuthbtn" id="getChangeMobileAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="changeMobileAuthCodeError"></div></div>'+'<div class="input-div"><input maxlength="8" id="changeMobileAuthCode" type="text"></div></div><div id="changeMobileErrorTip" ></div>'+"</div>";getCountryCallingCode(function(o){localInfo.newAcctCountryRegions=[];localInfo.newAcctCountryRegionsOrderByLetter=rebuildCountryRegions(o.orderByLetterMap,localInfo.newAcctCountryRegions);e("#changeMobileLangCode").DropListEMUI5({items:localInfo.newAcctCountryRegions,defaultValue:localInfo.default_country_code,onChange:function(o,t){e("#changeMobileLangCode .select-text").text(t).attr({"data-regions":o.split(",")[0],"data-countrycode":o.split(",")[1],"data-countrysite":o.split(",")[2]})}});if(localInfo.verifyAccountCountryCode){e.each(localInfo.newAcctCountryRegions,function(o,t){if(t.value.split(",")[0]==localInfo.verifyAccountCountryCode){e("#changeMobileLangCode .select-text").text(t.label).attr({"data-regions":t.value.split(",")[0],"data-countrycode":t.value.split(",")[1],"data-countrysite":t.value.split(",")[2]})}})}},false);var i="";if("2"==t.accountType){i=rss_new.appeal_bind_newPhoneHeader}else{i=rss_new.uc_set_sec_phone_title}var a={title:i,btnRight:{text:rss_new.box_js_confirm,fn:function(){var n=this;if(!validator(e("#changeMobileNewAccDiv"),true)||!validator(e("#changeMobileNewAuthCodeDiv"),true)){return false}var i={reqClientType:localInfo.reqClientType,frequentlyDev:t.frequentlyDev,newAccountType:t.accountType,newAuthCode:e("#changeMobileAuthCode").val().trim(),newUserAccount:getPhoneNumber(e("#changeMobileNewAcc").val().trim(),convPlusOfPhoneAccount(e("#changeMobileLangCode .select-text").attr("data-countrycode")))};if(o.riskfreeKey){i.opType="5";i.oldAccountType=t.oldAccountType;i.oldAuthCode=t.oldAuthCode}else{i.opType="4"}var s={70006007:rss_new.uc_error_70006007_1,70002100:rss_new.error_phone_secphone_not_same};casAjaxObj.setPhoneEmail(i,function(e){t.callback()},function(o,t){var n=t.errorCode;if("70006007"==n||"70002002"==n||"70002100"==n||"10012077"==n){r(o,e("#changeMobileNewAccErrTip"),e("#changeMobilePhoneNumDiv"))}else if("70002057"==n||"70002058"==n||"70002039"==n){r(o,e("#changeMobileErrorTip"),e("#changeMobileNewAuthCodeDiv"))}else{r(o,e("#changeMobileErrorTip"))}},s)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){this.hide();if(t.preDialog){t.preDialog.show()}else{t.dialog.show()}}},html:n,beforeAction:function(){var o=e("#changeMobileNewAcc");var n=e("#changeMobileAuthCode");e.label(o,rss_new.login_label_userPhone);validator.bind(o,{type:["require","phoneNumber"],validOnChange:true,countryCode:"#changeMobileLangCode .select-text",errorFunction:function(o,t){switch(t.type){case"require":r(rss_new.common_js_emptyphone,e("#changeMobileNewAccErrTip"),e("#changeMobilePhoneNumDiv"));break;case"phoneNumber":r(rss_new.common_js_error,e("#changeMobileNewAccErrTip"),e("#changeMobilePhoneNumDiv"));break}},successFunction:function(){},reInputFunction:function(){s(e("#changeMobileNewAccErrTip"),e("#changeMobilePhoneNumDiv"))}});e.label(n,rss_new.registerbyphone_js_codelength);validator.bind(n,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:true,errorFunction:function(o,t){switch(t.type){case"require":r(rss_new.forgetbyphone_inputsmscode,e("#changeMobileErrorTip"),e("#changeMobileNewAuthCodeDiv"));break;case"length":r(rss_new.forgetbyphone_wrongsmscode,e("#changeMobileErrorTip"),e("#changeMobileNewAuthCodeDiv"));break;case"number":r(rss_new.forgetbyphone_wrongsmscode,e("#changeMobileErrorTip"),e("#changeMobileNewAuthCodeDiv"));break}},successFunction:function(e,o){},reInputFunction:function(){s(e("#changeMobileErrorTip"),e("#changeMobileNewAuthCodeDiv"))}});e("#getChangeMobileAuthCodeBtn").on("click",function(){if(!validator(e("#changeMobileNewAccDiv"),true)){return false}if(e("#getChangeMobileAuthCodeBtn").attr("disabled")){return false}var o=getPhoneNumber(e("#changeMobileNewAcc").val().trim(),convPlusOfPhoneAccount(e("#changeMobileLangCode .select-text").attr("data-countrycode")));var n={userAccount:o,mobilePhone:o,accountType:t.accountType,smsReqType:"3",reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,operType:"28"};var i=e("#getChangeMobileAuthCodeBtn");var s={10000001:rss_new.uc_error_10000001_1,"default":rss_new.uc_error_70002030,70001102:rss_new.uc_error_70001102_1,70001104:rss_new.uc_error_70001104_1};casAjaxObj.getSMSAuthCode(n,a,c,s);function a(o){i.attr("disabled");showMsgSuccess({obj:e("#changeMobileAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(n.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"36px"});i.addClass("auth_code_grey");jsInnerTimeout(i,rss_new.uc_common_resend)}function c(o,t){i.removeAttr("disabled");r(o,e("#changeMobileErrorTip"),e("#changeMobileNewAuthCodeDiv"))}})}};e("<div>").Dialog(a).Dialog("show")}function r(e,o,t){o.text(e).addClass("error-tips-EMUI5");if(t){t.addClass("input-error-EMUI5")}}function s(e,o){e.text("").removeClass("error-tips-EMUI5");if(o){o.removeClass("input-error-EMUI5")}}}o.crossSiteIDDialog=v;o.updatePWDDialog=p;o.authDialog=c;o.acctProtectV2Dialog=g;o.sendVerifyCodeError=y;o.noReviceSecCodeDialog=m;o.agreeCrossSiteAgr=_;o.forceBindPhone=C;o.popVerifyOrChangeMobilePhone=x;o.changePhoneAccount=w;o.popOldUserBind=A})(jQuery,window);