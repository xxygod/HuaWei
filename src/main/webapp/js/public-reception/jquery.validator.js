(function(e){if(typeof define=="function"&&define.amd){define(["jquery"],e)}else{e($)}})(function(y){y.fn.validator=function(e){switch(e){case"bind":{validator.bind(this,arguments[1]);break}case"register":{validator.register(arguments[1],arguments[2]);break}case"get":{return validator.get(arguments[1])}default:{break}}};var e=function(){var c=c||y;var f=function(e,r){},i=function(e,r){},s={trim:true,validOnChange:false,validOnKeyup:true,allowEmpty:true,async:true,errorClass:null,errorClassEMUI5:null,errorBoder:null,successFunction:null,errorFunction:null,reInputFunction:null,reInputEvent:"textchange",countryCode:null};var g={};var l={};var o=function(e,r,t,a,n,i,u){c.extend(i,t);if(a){n=l[a];if(!n){f(a+" rule is undefined!");return true}}var s;if(a){i.type=a}if(n.length==3){s=n(e,r,i)}else{s=n(e,i)}if(!s){if(i.errorFunction){var o=function(){if(t.errorClass&&r){r.addClass(t.errorClass)}if(t.errorClassEMUI5&&r){t.errorBorder.addClass(t.errorClassEMUI5)}!u&&i.errorFunction(r||e,i)};if(t.async){setTimeout(o,1)}else{o()}}return false}return true};var p=function(e,r,t,a,n){if(!t.type){if(!o(e,r,t,null,t.rule,a,n)){return false}}else{var i=t.type;if(typeof t.type=="string"){i=[t.type]}var u={};for(var s=0;s<i.length;s++){if(!u[i[s]]){if(!o(e,r,t,i[s],null,a,n)){return false}u[i[s]]=1}}}return true};var v=function(e,r){var t=e.attr("validator");if(!t){return true}var a=g[t];var n;switch(e.get(0).tagName){case"SELECT":n=e.val();break;default:n=e[0].value}var i={};var u=[];for(var s=0;s<a.length;s++){var o={};if(a[s].trim){n=y.trim(n).removeAllSpace()}if(!p(n,e,a[s],o,r)){return false}u.push(o)}for(var s=0;s<a.length;s++){var f=a[s];if(f.successFunction){var l=u[s];var c=function(){if(f.errorClass&&e){e.removeClass(f.errorClass)}f.successFunction(e||n,l)};c()}}return true};var d=function(e,r,t){if(typeof r=="object"){var a={};if(p(e,null,r,a)&&r.successFunction){if(r.async){setTimeout(function(){r.successFunction(e,a)},1)}else{r.successFunction(e,a)}}return}var n=e,i=r;var u=c(n);var s=u.get(0).tagName;i=typeof i=="boolean"?i:true;switch(s){case"SELECT":case"INPUT":case"TEXTAREA":return v(u)}var o=u.find("select[validator],input[validator],textarea[validator]");var f=true;for(var l=0;l<o.length;l++){if(c(o[l]).is(":visible")&&!v(c(o[l]),t)){if(i){return false}else{f=false}}}return f};d.register=function(e,r){l[e]=r};d.get=function(e){return l[e]};var m=0;d.bind=function(e,r){var t=[];var a=c(e);r=c.extend({},s,r);a.bind(r.reInputEvent,function(){r.reInputFunction&&r.reInputFunction()});if(r.validOnChange){a.blur(function(){var e=this;if(this.value!="")setTimeout(function(){d(e,true)},0)})}if(r.validOnKeyup){a.keyup(function(){y(this).removeClass(s.errorClass);r.errorBorder&&r.errorBorder.removeClass(r.errorClassEMUI5)})}for(var n=0;n<a.length;n++){var i=c(a[n]);var u=i.attr("validator");if(!u){u="validator"+ ++m+(new Date).getTime();i.attr("validator",u)}if(!g[u]){g[u]=[]}g[u].push(r);t.push(u)}return t};d.defaults=s;y.extend(d.defaults,{errorClass:"cas_error",autoFocus:false,errorFunction:function(e,r){var t="cas_error",a=r.msg[r.type]||r.msg["default"];switch(r.type){case"require":t="cas_warn";break}y(r.msg_ct).html(a);if(r.autoFocus)e.focus();window.setTimeout(function(){},2e3)},successFunction:function(e,r){}});var u=d,h=function(e,r){return!e};u.register("regex",function(e,r){if(r.allowEmpty&&h(e)){return true}if(!r.regex){i("regex","need parameter of 'regex'!");return false}return r.regex.test(e)});u.register("require",function(e,r){r.allowEmpty=false;return!h(e)});u.register("email",function(e,r){if(r.allowEmpty&&h(e)){return true}var t=null;if(r.separater){t=r.separater}var a=phoneRegex.email;var n=new RegExp(a);var i;if(t){i=e.split(t)}else{i=[e]}for(var u=0;u<i.length;u++){if(i[u].match(n)==null){return false}}return true});u.register("mobile",function(e,r){if(r.allowEmpty&&h(e)){return true}return/^[0-9]{5,15}$/.test(e)?true:false});u.register("password",function(e,r){if(r.allowEmpty&&h(e)){return true}var t=/^(?=.{8,32})(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).*$/;var a=/[^0-9a-zA-Z`~!@#$%^&*-_=+,.|\\/;:'"'()\[\]{}<>]+/;return t.test(e)&&!a.test(e)?true:false});u.register("nickname",function(e,r){if(r.allowEmpty&&h(e)){return true}return/^([^\u4E00-\u9FA5])*$/.test(e)?true:false});u.register("numeric",function(e,r){if(r.allowEmpty&&h(e)){return true}return/^\d+$/.test(e)?true:false});u.register("eq",function(e,r){if(!r.compareTo){i("eq","need parameter of 'compareTo'!");return false}var t=c(r.compareTo).val();if(!r.format){return e==t}var a=u.get("date");if(!(a(e,r)&&a(t,r))){return false}return e.parseDate(r.format).getTime()==t.parseDate(r.format).getTime()});u.register("lt",function(e,r){if(r.allowEmpty&&h(e)){return true}if(!r.compareTo){i("lt","need parameter of 'compareTo'!");return false}var t=c(r.compareTo).val();if(!r.format){r.negative=true;var a=u.get("float");if(!a(e,r)){return false}if(!a(t,r)){return false}e=parseFloat(e);t=parseFloat(t);return e<t}var n=u.get("date");if(!(n(e,r)&&n(t,r))){return false}return e.parseDate(r.format)<t.parseDate(r.format)});u.register("le",function(e,r){var t=u.get("eq");var a=u.get("lt");return t(e,r)||a(e,r)});u.register("gt",function(e,r){if(r.allowEmpty&&h(e)){return true}if(!r.compareTo){i("gt","need parameter of 'compareTo'!");return false}var t=c(r.compareTo).val();if(!r.format){r.negative=true;var a=u.get("float");if(!a(e,r)){return false}if(!a(t,r)){return false}e=parseFloat(e);t=parseFloat(t);return e>t}var n=u.get("date");if(!(n(e,r)&&n(t,r))){return false}return e.parseDate(r.format)>t.parseDate(r.format)});u.register("ge",function(e,r){var t=u.get("eq");var a=u.get("gt");return t(e,r)||a(e,r)});u.register("length",function(e,r){if(r.allowEmpty&&h(e)){return true}if(!(r.min||r.max)){i("length","need parameter of 'min' or 'max'!");return false}var t=e.len();if(r.min&&t<r.min){return false}if(r.max&&t>r.max){return false}return true});u.register("strLength",function(e,r){if(r.allowEmpty&&h(e)){return true}if(!(r.min||r.max)){i("length","need parameter of 'min' or 'max'!");return false}var t=e.length;if(r.min&&t<r.min){return false}if(r.max&&t>r.max){return false}return true});u.register("range",function(e,r){if(r.allowEmpty&&h(e)){return true}if(!(r.min||r.max)){i("range","need parameter of 'min' or 'max'!");return false}r.negative=true;var t=u.get("float");if(!t(e,r)){return false}var a=parseFloat(e);if(r.min&&a<r.min){return false}if(r.max&&a>r.max){return false}return true});u.register("chinese",function(e,r){if(r.allowEmpty&&h(e)){return true}r.regex=/^[\u4E00-\u9FA5]$/;return u.get("regex")(e,r)});u.register("int",function(e,r){if(r.allowEmpty&&h(e)){return true}if(r.negative){r.regex=/^[-]?\d+$/}else{r.regex=/^\d+$/}return u.get("regex")(e,r)});u.register("float",function(e,r){if(r.allowEmpty&&h(e)){return true}if(r.negative){r.regex=/^[-]?\d+(\.\d+)?$/}else{r.regex=/^\d+(\.\d+)?$/}return u.get("regex")(e,r)});u.register("date",function(e,r){if(r.allowEmpty&&h(e)){return true}if(!r.format){f("date","need parameter of 'format'!");return false}var t={"\\.":"\\.","M+":"(0[1-9]|[1-9]|1[0-2])","d+":"(0[1-9]|[1-9]|[12][0-9]|3[01])","y+":"(\\d{4})","H+":"([0-9]|[01][0-9]|2[0-3])","m+":"([0-9]|[0-5][0-9])","s+":"([0-9]|[0-5][0-9])",S:"(\\d+)"};var a=r.format;for(var n in t){if(new RegExp("("+n+")").test(r.format)){a=a.replace(RegExp.$1,t[n])}}r.regex=new RegExp("^"+a+"$");if(!u.get("regex")(e,r)){return false}return e==e.parseDate(r.format).format(r.format)});u.register("url",function(e,r){if(r.allowEmpty&&h(e)){return true}if(e.startWith("http://")){e=e.substring(7)}else{if(e.startWith("https://")){e=e.substring(8)}else{if(r.requireProtocol){return false}}}if(!e){return false}r.regex=/^[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/;return u.get("regex")(e,r)});u.register("idCard",function(e,r){if(r.allowEmpty&&h(e)){return true}var t=/^[1-9]{1}[0-9]{14}$|^[1-9]{1}[0-9]{16}([0-9]|[xX])$/;return t.test(e)?true:false});u.register("phoneNumber",function(e,r){var t=y("#input_languageCode > input").val()||"";if(y(r.countryCode).length>0){t=y(r.countryCode).attr("data-countrycode")?y(r.countryCode).attr("data-countrycode"):""}t=t.replace("+","00");var a="";e=e.replace("+","00");if(e.startsWith(t)){e=e.substring(t.length,e.length)}else if(e.startsWith("00")){return false}if(t&&t=="0086"){a=phoneRegex.chinesePhone}else if(t=="001"||t=="+1"){a=phoneRegex.USAPhone}else{a=phoneRegex.anyPhone}return a.test(e)?true:false});u.register("chinaLang",function(e,r){if(r.allowEmpty&&(e==null||e=="")){return true}if(e.length!=4){return false}else{return true}});u.register("number",function(e,r){var t=/^([0-9])+$/g;var a=t.test(e);return a?true:false});return d};window.validator=window.validator||e()});String.prototype.len=function(){return this.replace(/[^\x00-\xff]/g,"aa").length};(function(){var y=0;$.label=function(e,d,m){if(!d){return $}var h=jQuery;m=h.extend({},$.label.defaults,m);h(e).each(function(){var r=h(this),e=r.attr("id"),t=Number(r.css("z-index"))||1,a=parseInt(r.css("margin-top"),10)+parseInt(r.css("border-top-width"),10),n=parseInt(r.css("margin-left"),10)+parseInt(r.css("border-left-width"),10),i=h('<label class="lb_opacity_Class" style="display:none;position:absolute;cursor:text;'+m.ifLeft+"float:left;z-index:"+(t+1)+'"></label>'),u=h('<div style="border:none;background:transparent;cursor:text;margin:2px;width:'+r[0].style.width+';" tabindex=-1>'+d+"</div>").attr("class",r.attr("class"));r.parent().find(".lb_opacity_Class").remove();if(m.ifRight!=""){a=m.ifRight}if(!e&&m.autoId){e="input_label_"+y++;r.attr("id",e)}i.attr("for",e);var s={color:m.color};u.css(s);u[0].defaultValue=d;i.css({"padding-left":n,"padding-top":a}).append(u);r.css("z-index",t).before(i);var o=r.parents("form");if(o.length>0){o.bind("reset",function(){setTimeout(function(){f()},150)})}var f=function(){if(r.prop("value").length==0){i.css("display","block")}},l=function(){i.css("display","none")},c=function(){if(r.prop("value").length!=0){i.css("display","none")}},g=function(e){if(e.keyCode==8&&r.prop("value").length==0){if(e.returnValue){e.returnValue=false}if(e.preventDefault){e.preventDefault()}}i.css("display","none");r.focus()};r.bind("focus",c).bind("blur",f);i.bind("keydown",g);var p=$(document).filter(":focus");if(p!=r[0]){f()}var v=setInterval(function(){if(r.prop("value").length!=0){i.css("display","none")}},100)});return $};$.label.defaults={color:"#ccc",autoId:true,ifLeft:"",ifRight:""}})();