(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t($)}})(function(x){function r(t,a,i){return t.replace(i||/\\?\{([^{}]+)\}/g,function(t,i){var e=i.split(".");var s=a;for(var o=0;o<e.length;o++){s=typeof s=="object"?s[e[o]]:null}return s===undefined?"":s})}function d(t){if(typeof t=="string"){return t.replace(/<script>/g,"&lt;script&gt;").replace(/<\/script>/g,"&lt;/script&gt;")}else{return t}}var e=function(t){var s=this;var i={title:"",titleUnderline:false,btnLeft:{text:"btnLeft",fn:null,color:null,customClass:""},btnRight:{text:"btnRight",fn:null,color:null,customClass:""},html:"Dialog content...",beforeAction:function(){},beforeAppendTo:function(){},dialogStyle:"dialog",actions:{},width:"",height:""};var e="<div>{html}</div>";var o='<h3><div class="ellipsis" style="line-height: 18px;" title="{html}">{html}</div></h3>';var a="";if(t.btnLeft&&t.btnRight){t.btnLeft.text=toUperCaseStr(t.btnLeft.text);t.btnRight.text=toUperCaseStr(t.btnRight.text);a='    <div class="global_dialog_confirm_ft vertical-center">'+'     <a id="lbtnId" href="javascript:void(0)" class="cancel dialog-btn '+t.btnLeft.customClass+'"  role="cancel"><span></span></a><div class="split-line"></div>'+'     <a id="rbtnId" href="javascript:void(0)" class="confirm dialog-btn '+t.btnRight.customClass+'" role="confirm"><span></span></a> '+"    </div>"}else if(!t.btnLeft&&t.btnRight){t.btnRight.text=toUperCaseStr(t.btnRight.text);a='    <div class="global_dialog_confirm_ft  vertical-center">'+'        <a id="rbtnId" href="javascript:void(0)" class="confirm dialog-btn '+t.btnRight.customClass+'" role="confirm" width="80%"><span></span><div class="errortip"></div></a>'+"    </div>"}this.options=x.extend(i,t);this.options.html=d(this.options.html);var l="";var n="";if("tab"==this.options.dialogStyle){a=a.replace(/dialog-btn/g,"dialog-btn btn-EMUI5-2");if(!isApp()){n='<div class="global_dialog_confirm_title dailog-title vertical-center actionbar "><h3 class="ellipsis"></h3></div>'}l='<div class="global_dialog_confirm_main_fullScreen" style="display: block;">'+n+'    <div class="global_dialog_confirm_content">{content}</div>'+a+"</div>"+'<div  class="global_black_overlay"></div>'}else{l='<div class="global_dialog_confirm_main" style=" display: block;width:'+this.options.width+";height:"+this.options.height+";margin:"+this.options.margin+'">'+'    <div class="global_dialog_confirm_title dailog-title vertical-center">'+"    </div>"+'    <div class="global_dialog_confirm_content">{content}</div>'+a+"</div>"+'<div class="global_black_overlay"></div>'}if(/<.*?>/.test(t.html)){this.options.content=r(e,this.options)}else{this.options.content=r(o,this.options)}this.dialogHtml=r(l,this.options);this.$dialogWrap=null;this.init=function(){this.$dialogWrap=x(this.dialogHtml);this.$mask=this.$dialogWrap.last();this.$dialog=this.$dialogWrap.first();if(!this.options.btnLeft){this.$dialog.find("[role=cancel]").remove()}if(this.options.titleUnderline){this.$dialog.find(".global_dialog_confirm_title h3").css({"text-decoration":"underline"})}this.$dialog.on("click","[role=confirm]",function(t){t.stopPropagation();if(x(this).attr("disabled")){return}var i=s.options.btnRight.fn;if(typeof i=="function"){i.call(s)}}).on("click","[role=cancel]",function(){var t=s.options.btnLeft.fn;if(typeof t=="function"){t.call(s)}s.$dialog.trigger("close")}).on("click","[act]",function(t){t.stopPropagation();var i=s.options.actions[x(this).attr("act")];if(typeof i=="function"){i.call(s)}}).on("close",function(){s.hide()});this.$mask.on("selectstart",function(){return false}).on("mousedown",function(){return false})};this.show=function(){s.init();if(typeof s.options.beforeAppendTo=="function"){s.options.beforeAppendTo.call(s)}s.$dialogWrap.appendTo("body");s.$dialog.find(".dailog-title").attr("title",this.options.title);s.$dialog.find(".dailog-title").text(this.options.title);if(this.options.title===""){s.$dialog.find(".dailog-title").css("padding","0")}s.$dialog.find(".global_dialog_confirm_ft #lbtnId").attr("title",(this.options.btnLeft||{}).text);s.$dialog.find(".global_dialog_confirm_ft #lbtnId>span").text((this.options.btnLeft||{}).text);s.$dialog.find(".global_dialog_confirm_ft #rbtnId").attr("title",(this.options.btnRight||{}).text);s.$dialog.find(".global_dialog_confirm_ft #rbtnId>span").text((this.options.btnRight||{}).text);if((this.options.btnRight||{}).color){s.$dialog.find(".global_dialog_confirm_ft #rbtnId>span").css("color",(this.options.btnRight||{}).color)}if(typeof s.options.beforeAction=="function"){s.options.beforeAction.call(s)}addCssActive(x(".btn-EMUI5-2",s.$dialogWrap),"btn-EMUI5-2-active","globle_dialog_btn_disabled");addCssActive(x("a",s.$dialogWrap),"a-active","disabled");s.$dialogWrap.show();var e=s.$dialog[0].scrollHeight;t();window.addEventListener("resize",function(){t()});function t(){if(!s.$dialog.hasClass("global_dialog_confirm_main"))return;if(screen.width>screen.height){s.$dialog.css("left","25%");s.$dialog.css("right","25%")}else{s.$dialog.css("left","8px");s.$dialog.css("right","8px")}var t=(x(window).height()-e)/2;if(t<8){t=8;var i=x(window).height()-t*2-s.$dialog.find(".global_dialog_confirm_ft").outerHeight()-s.$dialog.find(".global_dialog_confirm_title").outerHeight()-s.$dialog.find(".global_dialog_confirm_content").css("padding-top").split("px")[0]*1-s.$dialog.find(".global_dialog_confirm_content").css("padding-bottom").split("px")[0]*1;if(i<0){s.$dialog.css("overflow-y","scroll")}else{s.$dialog.find(".global_dialog_confirm_content").height(i);s.$dialog.find(".global_dialog_confirm_content").css("overflow-y","scroll")}s.$dialog.css("bottom",t+"px");s.$dialog.css("top",t+"px")}else{s.$dialog.css("overflow-y","visible");s.$dialog.find(".global_dialog_confirm_content").css("overflow-y","visible");s.$dialog.find(".global_dialog_confirm_content").height("auto");if(isApp()){s.$dialog.css("bottom","28px");s.$dialog.css("top","auto")}else{s.$dialog.css("bottom","auto");s.$dialog.css("top",t+"px")}}}};this.hide=function(){if(this.$dialogWrap&&this.$dialogWrap.length>0){this.$dialogWrap.hide();s.$dialogWrap.remove()}};this.enable=function(){s.$dialog.find("[role=confirm]").removeAttr("disabled");s.$dialog.find("[role=confirm]").removeClass("globle_dialog_btn_disabled");s.$dialog.find("[role=confirm]").css({"cursor":"pointer"})};this.disabled=function(){s.$dialog.find("[role=confirm]").attr("disabled",true);s.$dialog.find("[role=confirm]").addClass("globle_dialog_btn_disabled");s.$dialog.find("[role=confirm]").css({"cursor":"auto"})};return this};x.fn.Dialog=function(t){var i=this[0];if(!i){return}if(typeof t=="string"){switch(true){case t=="show":i.dialog.show();break;case t=="hide":i.dialog.hide();break;case t=="enable":i.dialog.enable();break;case t=="disabled":i.dialog.disabled();break;default:alert("error param");break}}else if(typeof t=="object"){i.dialog=new e(t);x(i).on("click",function(){if(x(this).attr("disabled")){return}this.dialog.show()})}else{alert("error param")}return this};x.fn.DialogSimple=function(t){var i=this;var e={text:"",btnText:"",btnFn:function(){this.hide()},btnColor:null,btnLeftText:null};var s;this.options=x.extend(e,t);this.options.text=d(this.options.text);var o=null;if(this.options.btnLeftText){o={text:this.options.btnLeftText,fn:null}}var a={html:this.options.text,btnRight:{text:this.options.btnText,fn:this.options.btnFn,color:this.options.btnColor},btnLeft:o};return this.Dialog(a).Dialog("show")};var s=function(t,s){var o=this;var i={items:[{value:0,label:"defaultValue"}],defaultValue:null,onChange:function(){}};this.selectHtml='<input type="hidden">'+'<b class="dptick r"></b>'+'<label  class="dpSlt"><span></span></label>'+'<ul class="dpmenu" style="display: none;z-index:1000;"></ul>';this.options=x.extend(i,t);this.init=function(){this.$obj=x(s).addClass("ddrop").append(this.selectHtml);var t=this.$obj.find(".dpmenu");var i=null;for(var e=0;e<this.options.items.length;e++){if(this.options.items.length==1){t.append("<li></li>")}else{t.append("<li></li>");t.append("<div style='padding-left:13px;padding-right:13px'><div style='margin-top:-1px;border-bottom: 1px solid #E9E9E9;'></div></div>")}t.find("li:last").attr("data-value",this.options.items[e].value);t.find("li:last").text(this.options.items[e].label);if(!this.options.defaultValue&&this.options.defaultValue!==0&&e==0){i=this.options.items[e]}else if(this.options.defaultValue===this.options.items[e].value){i=this.options.items[e]}}if(!i){i=this.options.items[0]}this.$obj.find("span").text(i.label);this.$obj.find("input").val(i.value);this.$obj.on("click",function(){var t=x(this).data("open");if(!t){x(this).children(".dpmenu").attr("tabindex",0).show().focus();x(this).data("open",true)}}).on("click",".dpmenu > li",function(){var t=x(this).closest(".ddrop");if(typeof x(this).data("value")=="object"){t.children("input").val(JSON.stringify(x(this).data("value")))}else{t.children("input").val(x(this).data("value"))}t.children("label").children("span").text(x(this).text());x(this).parent().hide();t.data("open",false);if(typeof o.options.onChange=="function"){o.options.onChange.call(o,x(this).data("value"),x(this).text())}}).on("blur",".dpmenu",function(){x(this).hide();x(this).parent().data("open",false)});x(document).click(function(t){if(x(t.srcElement).hasClass("ddrop")){}else{x(".dpmenu").hide()}})};this.selectValue=function(t){var i=null;for(var e=0;e<this.options.items.length;e++){if(t===this.options.items[e].value){i=this.options.items[e]}}this.$obj.find("span").text(i.label);this.$obj.find("input").val(i.value)};return this};x.fn.DropList=function(t){var i=this[0];if(typeof t=="string"){switch(true){case t=="select":i.droplist.selectValue(arguments[1]);break;default:alert("error param");break}}else if(typeof t=="object"){i.droplist=new s(t,i);i.droplist.init()}else{alert("error param")}return this};var o=function(t,p){var u=this;var i={items:[{value:0,label:"defaultValue",other:""}],defaultValue:null,onChange:function(){},isArrowRight:false,selectedAreaChar:"",urlChar:"href"};this.selectHtml='<ul class="dpmenu-full" style="z-index:1000;"></ul>';this.options=x.extend(i,t);this.init=function(){this.$obj=x(p).append(this.selectHtml);var c=this.$obj.find(".dpmenu-full");var t=null;var i="";var e="<div class='right item-forward'></div>";var h=true;var a;if(!this.options.isArrowRight){e="<div class='right'></div>"}if(this.options.items.length>0){var s=[];x.each(this.options.items,function(t,i){for(var e in i){if(i.hasOwnProperty(e)){if(isArray(i[e])){s.push({value:"order",label:e});s=s.concat(i[e]);u.options.orderList=true}else{s.push(i);break}}}});this.options.items=s}for(var o=0;o<this.options.items.length;o++){var l=this.options.urlChar+this.options.items[o].value+this.options.items[o].label;if(this.options.isArrowRight){i="<div class='right item-forward'></div>"}if(this.options.items.length==1){c.append("<li class='vertical-center'><label></label>"+i+"</li>");c.find("li:last").attr("id",l);c.find("li:last").attr("data-value",this.options.items[o].value);c.find("li:last > label").text(this.options.items[o].label)}else{if(this.options.items[o].value=="order"){if(o==0){c.append("<li class='list-nav vertical-end' ><label></label></li>")}else{c.append("<li class='list-nav vertical-end' style='border-top:8px solid #F0F0F0'><label></label></li>")}c.find("li:last").attr("id",l);c.find("li:last").attr("data-other",this.options.items[o].other);c.find("li:last").attr("data-value",this.options.items[o].value);c.find("li:last > label").text(this.options.items[o].label)}else if(this.options.defaultValue===this.options.items[o].value||this.options.defaultValue===this.options.items[o].label||this.options.defaultValue===this.options.items[o].other){c.prepend("<div style='padding:0 16px' class='uc-line'><div></div></div>");c.prepend("<li class='vertical-center list-item flex-justify'><label></label>"+e+"</li>");c.find("li:first").attr("id",l);c.find("li:first").attr("data-other",this.options.items[o].other);c.find("li:first").attr("data-value",this.options.items[o].value);c.find("li:first > label").text(this.options.items[o].label);c.find("li:first .right").text(this.options.selectedAreaChar)}else{c.append("<li class='vertical-center list-item flex-justify'><label></label>"+i+"</li>");if(this.options.items[o+1]&&this.options.items[o+1].value!="order"){c.append("<div style='padding:0 16px' class='uc-line'><div></div></div>")}c.find("li:last").attr("id",l);c.find("li:last").attr("data-other",this.options.items[o].other);c.find("li:last").attr("data-value",this.options.items[o].value);c.find("li:last > label").text(this.options.items[o].label)}}if(!this.options.defaultValue&&this.options.defaultValue!==0&&o==0){t=this.options.items[o]}else if(this.options.defaultValue===this.options.items[o].value||this.options.defaultValue===this.options.items[o].label){t=this.options.items[o]}}if(u.options.orderList){var n=["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var r="<div class='orderContainer' >";var d="<div class='showOrder hidden' >A</div>";x.each(n,function(t,i){r+="<div class='orderItem center vertical-center item"+i+"' >"+i+"</div>"});r+="</div>";c.append(r);c.append(d);c.find(".itemA").addClass("active");if(x(".orderContainer").height()+x(".orderContainer").offset().top>document.documentElement.clientHeight){var f=document.documentElement.clientHeight-x(".orderContainer").height();f=f<0?0:f;x(".orderContainer").css("top",f+"px")}}c.parents(".global_dialog_confirm_main_fullScreen").scroll(function(){if(!h||!u.options.orderList)return;var e=x(this).scrollTop();var s=null;var o=false;var t="A";c.find(".list-nav").each(function(t,i){if(o)return;if(t==0){s=x(i)}if(i.offsetTop>e){o=true;return}s=x(i)});t=s.text();c.find(".orderItem.active").removeClass("active");c.find(".orderItem.item"+t).addClass("active");if(t!=c.find(".showOrder").text()){clearTimeout(a);c.find(".showOrder").text(t).show();a=setTimeout(function(){c.find(".showOrder").fadeOut(500)},500)}});this.$obj.on("click",".orderItem",function(t){t.stopPropagation();var i="#hreforder"+x(this).text();if(x(this).text()=="#"||!x(i)[0])return;c.find(".orderItem.active").removeClass("active");x(this).addClass("active");c.find(".showOrder").show().text(x(this).text());c.parents(".global_dialog_confirm_main_fullScreen").css("overflow","hidden");c.parents(".global_dialog_confirm_main_fullScreen").animate({scrollTop:x(i)[0].offsetTop},200,function(){h=true});h=false});this.$obj.on("touchmove",".orderContainer",function(t){try{if(u.options.orderList){t.stopPropagation();var i=x(".orderContainer");var e=i.height();var s=e/i.children().length;var o=t.originalEvent.targetTouches[0];var a=o.pageY;var l=Math.floor((a-i.offset().top)/s);if(l==0){return}var n=["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var r=n[l];var d="#hreforder"+r;var f=x(d);if(f.length>0){c.find(".showOrder").show().text(r);c.find(".orderItem.active").removeClass("active");x(".orderItem.item"+r).addClass("active");c.parents(".global_dialog_confirm_main_fullScreen").css("overflow","hidden");c.parents(".global_dialog_confirm_main_fullScreen").animate({scrollTop:x(d)[0].offsetTop},0,function(){h=true});h=false}}}catch(t){}});this.$obj.on("click",".dpmenu-full > .list-item",function(){if(typeof u.options.onChange=="function"){u.options.onChange.call(u,x(this).data("value"),x("label",x(this)).text(),x(this).data("other"))}});this.$obj.on("touchstart",".dpmenu-full > .list-item",function(){c.parents(".global_dialog_confirm_main_fullScreen").css("overflow","auto")});if(!t){t=this.options.items[0]}this.$obj.find("span").text(t.label);this.$obj.find("input").val(t.value);this.$obj.parents(".global_dialog_confirm_content").css("padding","0");addItemActive(x(".dpmenu-full > .item",this.$obj),"li-active")};this.selectValue=function(t){var i=null;for(var e=0;e<this.options.items.length;e++){if(t===this.options.items[e].value){i=this.options.items[e]}}this.$obj.find("span").text(i.label);this.$obj.find("input").val(i.value)};return this};x.fn.DropList1=function(t){var i=this[0];if(typeof t=="string"){switch(true){case t=="select":i.droplist.selectValue(arguments[1]);break;default:alert("error param");break}}else if(typeof t=="object"){i.droplist=new o(t,i);i.droplist.init()}else{alert("error param")}return this};var a=function(t,d){var f=this;var i={items:[{value:0,label:"defaultValue",other:""}],defaultText:null,defaultValue:null,onChange:function(){},showDefaultValue:true,suffix:"",selShowSuffix:true,selectSpace:true,style:"auto",parent:"",dir:"down"};this.options=x.extend(i,t);if(this.options.date){this.selectHtml='<div class="div-table-date"><div class="div-tr-date"><input type="hidden">'+'<span class="select-text ar-eg div-td-date"></span><span class="suffix div-td-date" style="color:#999">'+'</span><div class="div-td-date"><div class="select-ico"></div></div></div></div><ul class="dpmenu-EMU5" style="display:none;"></ul>'}else{this.selectHtml='<input type="hidden">'+'<span class="select-text ar-eg "></span><span class="suffix " style="color:#999">'+'</span><div class="select-ico"></div><ul class="dpmenu-EMU5" style="display:none;"></ul>'}this.init=function(){this.$obj=x(d).addClass("ddrop-EMU5").html(this.selectHtml);this.$obj.find(".suffix").text(this.options.suffix);var o=this.options;var a=this;var l=this.$obj.find(".dpmenu-EMU5");this.$ul=l;var n=this.$obj.css("overflow");if(this.options.dir=="up"){l.addClass("dpmenu-EMUI5-up");if(this.$obj.offset().top<l.outerHeight()){l.height(this.$obj.offset().top)}}else{l.addClass("dpmenu-EMUI5-down")}var t=null;var r=this.options.items.length;l.append('<div class="flow-top"></div>');if(r>6){l.css("overflow-y","scroll")}var i=c(this.options.items);if(this.options.style=="full"){this.options.parent.css("position","relative");this.$obj.css("position","static");i=this.options.parent.width()-32;l.width(i+32);l.css("max-width",i+32);l.css("left","0");l.css("right","0");var e=this.options.parent.height()+this.options.parent.css("padding-top").split("px")[0]*1+8;l.css("top",e+"px")}l.width(i+32);for(var s=0;s<r;s++){if(s!=r-1){l.append("<li class='dropListEMUI5_li'></li><div class='uc-line' style='width:"+i+"px'><div></div></div>");l.find(".dropListEMUI5_li:last").text(this.options.items[s].label);l.find(".dropListEMUI5_li:last").attr("data-other",this.options.items[s].other);l.find(".dropListEMUI5_li:last").attr("data-value",this.options.items[s].value)}else{l.append("<li class='dropListEMUI5_li'></li>");l.find(".dropListEMUI5_li:last").text(this.options.items[s].label);l.find(".dropListEMUI5_li:last").attr("data-other",this.options.items[s].other);l.find(".dropListEMUI5_li:last").attr("data-value",this.options.items[s].value)}if(!this.options.defaultValue&&this.options.defaultValue!==0&&s==0){t=this.options.items[s]}else if(this.options.defaultValue==this.options.items[s].value){t=this.options.items[s]}}if(!t){t=this.options.items[0]}if(r==1&&!o.defaultText){t=this.options.items[0];this.$obj.find(".select-ico").addClass("select-ico-gray")}if(!this.options.showDefaultValue){if(this.options.selectSpace){this.$obj.find(".select-text").text(t?t.label:"").css("visibility","hidden")}this.$obj.find("input").val(t?t.value:"")}else{this.$obj.find(".select-text").text(t?t.label:"");this.$obj.find("input").val(t?t.value:"");this.$obj.find(".suffix").css("color","#333")}if(o.showday&&!o.selShowSuffix&&this.$obj.find(".select-text").css("visibility")!="hidden"){this.$obj.find(".suffix").text("")}if(o.defaultText){this.$obj.find(".select-text").text(o.defaultText);this.$obj.find("input").val("")}this.$obj.unbind();this.$obj.on("click",function(e){var s=e.target||e.srcElement;e.stopPropagation();x(".dpmenu-EMU5").each(function(t,i){if(!(x.contains(i,e.target)||i==s)){x(i).hide();x(i).parent().data("open",false)}});if(r==1&&!o.defaultText||x(this).hasClass("ddrop-disabled"))return;var t=x(this).data("open");if(!t){a.$obj.css("overflow","visible");x(this).children(".dpmenu-EMU5").attr("tabindex",0).show().focus();x(this).data("open",true);if(a.options.style=="full"){var i=a.options.parent.height()+a.options.parent.css("padding-top").split("px")[0]*1+8;l.css("top",i+"px")}if(a.options.dir=="up"){if(a.$obj.offset().top-16-x(window).scrollTop()<l.outerHeight()){l.height(a.$obj.offset().top-16-x(window).scrollTop())}}}else{l.hide();l.parent().data("open",false);a.$obj.css("overflow",n)}}).on("click",".dpmenu-EMU5 > li",function(t){t.stopPropagation();a.$obj.css("overflow",n);var i=x(this).closest(".ddrop-EMU5");if(typeof x(this).data("value")=="object"){x("input",i).val(JSON.stringify(x(this).data("value")))}else{x("input",i).val(x(this).data("value"))}x(".select-text",i).text(x(this).text()).css("visibility","visible");if(!o.selShowSuffix){x(".suffix",i).text("")}x(this).parent().hide();i.data("open",false);if(typeof f.options.onChange=="function"){f.options.onChange.call(f,x(this).data("value"),x(this).text(),x(this).data("other"))}x(".suffix",i).css("color","#333")});x(document).bind("click",function(t){l.hide();l.parent().data("open",false);a.$obj.css("overflow",n)});addItemActive(x(".dpmenu-EMU5 > li",this.$obj),"li-active")};this.selectValue=function(t){var i=null;for(var e=0;e<this.options.items.length;e++){if(t==this.options.items[e].value){i=this.options.items[e]}}this.$obj.find(".select-text").text(i.label).css("visibility","visible");this.$obj.find(".suffix").css("color","#333");this.$obj.find("input").val(i.value)};function c(t){var i=104;var e;var s;for(var o=0;o<t.length;o++){e='<span id="contLength" style="visibility:hidden;font-size:15px;"></span>';x("body").append(e);x("#contLength:last").text(t[o].label);s=x("#contLength")[0].offsetWidth+1;if(s>i)i=s;x("#contLength").remove()}return i}return this};x.fn.DropListEMUI5=function(t){var i=this[0];if(!i){return}if(typeof t=="string"){switch(true){case t=="select":i.droplistEMUI5.selectValue(arguments[1]);break;default:alert("error param");break}}else if(typeof t=="object"){i.droplistEMUI5=new a(t,i);i.droplistEMUI5.init()}else{alert("error param")}return this};var l=function(l,n){var r;var d;var f;var c;var h;var p;var u={yearChange:function(){},monthChange:function(){},dayChange:function(){},format:"Y-M-D",yearSuffix:"",monthSuffix:"",daySuffix:"",itemSuffix:false,yearSpace:true,monthSpace:true,daySpace:true,dir:"down"};this.init=function(){l=x.extend(u,l);var t="<div> <input class='year' type='hidden'  /><input class='month' type='hidden' /> <input class='day' type='hidden'> <div class='yearDiv dateItems'></div> <div class='monthDiv dateItems'></div> <div class='dayDiv dateItems'> </div></div>";var i=n;i.html(t);r=x(".dayDiv",i);d=x(".monthDiv",i);f=x(".yearDiv",i);c=x(".day",i);h=x(".year",i);p=x(".month",i);c.val("N");h.val("N");p.val("N");var e=v();var s=g();var o=b(2016,1);var a=true;if(localInfo.lang!="zh-cn"&&localInfo.lang!="zh-hk"&&localInfo.lang!="zh-tw"){a=false}if(l.format.indexOf("Y")!=-1){f.DropListEMUI5({items:e,defaultValue:"N",showDefaultValue:false,suffix:l.yearSuffix,selShowSuffix:a,selectSpace:l.yearSpace,onChange:function(t,i){h.val(t);m(a);l.yearChange()},date:true,dir:l.dir})}if(l.format.indexOf("M")!=-1){d.DropListEMUI5({items:s,defaultValue:"N",showDefaultValue:false,suffix:l.monthSuffix,selShowSuffix:a,selectSpace:l.monthSpace,onChange:function(t,i){p.val(t);m(a);l.monthChange()},date:true,dir:l.dir})}if(l.format.indexOf("D")!=-1){r.DropListEMUI5({items:o,defaultValue:"N",showDefaultValue:false,suffix:l.daySuffix,selShowSuffix:a,selectSpace:l.daySpace,onChange:function(t,i){c.val(t);l.dayChange()},date:true,dir:l.dir})}};this.getValue=function(t){if(t=="Y"){return h.val()*1}else if(t=="M"){return p.val()*1}else if(t=="D"){return c.val()*1}};this.setDate=function(t,i,e){t=t||1900;i=i||1;e=e||1;f.DropListEMUI5("select",t);d.DropListEMUI5("select",i);r.DropListEMUI5("select",e);c.val(e);h.val(t);p.val(i)};function v(){var t=(new Date).getFullYear();var i=[];for(var e=t;e>=1900;e--){if(l.itemSuffix){t={value:e,label:e+l.yearSuffix}}else{t={value:e,label:e+""}}i.push(t)}return i}function g(){var t=[];var i={};for(var e=1;e<=12;e++){if(l.itemSuffix){i={value:e,label:e+l.monthSuffix}}else{i={value:e,label:e+""}}t.push(i)}return t}function b(t,i){var e=[30,31,28,31,30,31,30,31,31,30,31,30,31];if(i==2&&t%400==0||t%4==0&&t%100!=0){e[2]=29}var s=[];var o={};for(var a=1;a<=e[i];a++){if(l.itemSuffix){o={value:a,label:a+l.daySuffix}}else{o={value:a,label:a+""}}s.push(o)}return s}function m(t){if(l.format.indexOf("D")==-1)return;var i=h.val()*1;var e=p.val()*1;var s=c.val();var o=b(i,e);var a=false;if(s!="N"){a=true;if(s*1>o.length){s=1}}if(!isNaN(i)&&!isNaN(e)){r.DropListEMUI5({items:o,defaultValue:s,suffix:l.daySuffix,showDefaultValue:a,selShowSuffix:t,showday:true,onChange:function(t,i){c.val(t);l.dayChange()},date:true,dir:l.dir})}}};x.fn.datePickEMUI5=function(t){var i=this[0];if(!i){return}if(typeof t=="object"){i.datePickEMUI5=new l(t,x(i));i.datePickEMUI5.init()}else if(typeof t=="string"){return i.datePickEMUI5.getValue(t)}else if(typeof t=="number"){i.datePickEMUI5.setDate.apply(i.datePickEMUI5,arguments)}};x.fn.fullScreenList=function(o){var t;window.history.pushState({},"",location.href+"#fullDialog");x(window).on("hashchange",s);var i=document.title;document.title=o.doucmentTitle||o.title;if(!isApp()){document.title=rss_new.emui4_login_username_reg+"-"+document.title}var e={title:o.title,btnRight:null,btnLeft:null,html:"<div class='full-list'></div>",dialogStyle:"tab",beforeAction:function(){var s=this;t=this;x(".full-list").DropList1({items:o.items,onChange:function(t,i,e){a(s);history.back(-1);o.onChange({value:t,label:i,other:e})}});this.$dialog.find(".actionbar").css("margin-bottom","0")}};x("<div>").Dialog(e).Dialog("show");function a(t){t.hide();document.title=i;x(window).off("hashChange",s)}function s(){if(location.href.indexOf("#fullDialog")==-1)a(t)}};x(document).on("click",".radio",function(){if(x(this).data("check")){return}var t=x(this).data("group");i(x(this),true);i(x("[data-group='"+t+"']").not(this),false);x("#"+t).val(x(this).data("value"));x("#"+t).trigger("change")}).on("check",".radio",function(){x(this).trigger("click")});function i(t,i){if(i){t.removeClass("roff").addClass("ron")}else{t.removeClass("ron").addClass("roff")}t.data("check",i)}function t(t){if(t.length>28){if(t.indexOf("*")>0){var i=t.substring(0,t.indexOf("*"));var e=t.substring(t.lastIndexOf("*"),t.length);i=i.substring(0,24-e.length);t=i+"****"+e}}return t}x(function(){x(document).on("click",".dinput-UI5 input,.dinput-UI6 input",function(t){var i=x(this);i.parents(".dinput-UI5,.dinput-UI6").addClass("pointed")});x(document).on("blur",".dinput-UI5 input,.dinput-UI6 input",function(t){var i=x(".dinput-UI5,.dinput-UI6");i.removeClass("pointed")})})});