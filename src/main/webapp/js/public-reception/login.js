(function(){var e=$("#login_userName"),o=$("#login_password"),n=$("#login_phoneNum"),r=$("#smsAuthCode"),t=$("#smsRandomCode");var i=$("#twice_login_password");var s=function(){};s.prototype={init:function(){this.initPage();this.initEvent()},initPage:function(){a()},initEvent:function(){l()}};$(function(){(new s).init()});function a(){X();Z();$(".loginmask").hide();D("isRead");e.focus();if(localInfo.isOpenSMSLogin=="true"){$(".changeLoginType").css("visibility","visible")}if(localInfo.displayCaptchaType=="0"&&localInfo.isOpenImgCode=="true"){$("#picAuthCode").addClass("user-input-tr")}var n=$(".iframeAd iframe");if(n.attr("src")==""){n.remove()}if(window.languageCode=="ka-ge"&&localInfo.isNewCloudLoginPage=="true"){e.attr("placeholder",rss_new.login_js_hwaccount_id);o.attr("placeholder",rss.login_js_password)}else{$.label(e,rss_new.login_js_hwaccount_id).label(o,rss.login_js_password)}$.label(r,rss.smsAuthCode);$.label(t,rss.imgCode);var i=false;if($("#login_userName").length==0||$("#login_userName").css("display")=="none"){i=true}var s=localInfo.rememberAccount;if(!i&&s){s=s.replace(/\"/g,"");$("#login_userName").val(s);$("#remember_name").prop("checked",true);if($("#remember_name_icon")){$("#remember_name_icon").removeClass("tick-off-icon").addClass("tick-on-icon")}$(".login-checkbox").removeClass("off");$(".login-checkbox").addClass("on");$("#remember_name").prop("checked",true)}if(localInfo.extInfo&&localInfo.isThirdLogin!="true"){$("#login_userName").val(localInfo.extInfo)}if($("#randomCodeImg").length>0){setTimeout(function(){$("#randomCodeImg")[0].onerror=function(){var e=this;if(e.src==""||!e.src.indexOf("authCodeImage"))return;e.style.width="45px";e.src=localInfo.randomCodeImgLoading}},10)}regKeyBoardEvent("13",function(){if($("div[role='cancel']").length!=0)return;if($("#login_userName").is(":hidden")){$("#btnSMSLogin").click()}else{$("#btnLogin").click()}},$(".loginEventForm input"));getCountryCallingCode(function(e){localInfo.countryRegions=[];localInfo.countryRegionsOrderByLetter=rebuildCountryRegions(e.orderByLetterMap,localInfo.countryRegions);$("#smsLoginCountryCodeDiv").DropListEMUI5({items:localInfo.countryRegions,defaultValue:localInfo.default_country_code,onChange:function(e,o){$("#smsLoginCountryCodeDiv .select-text").text(o).attr({"data-regions":e.split(",")[0],"data-countrycode":e.split(",")[1],"data-countrysite":e.split(",")[2]});if($("#login_phoneNum").val().trim().length){validator($("#login_phoneNum"))}}});z();if(localInfo.extInfo&&isNumber(localInfo.extInfo)){var o=oe(localInfo.extInfo,localInfo.countryRegions);$("#smsLoginCountryCodeDiv .select-text").text(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]});$("#smsLoginCountryCodeDiv input").val(o.value);$("#login_phoneNum").val(removePhoneCountryCode(localInfo.extInfo,o.value.split(",")[1].replace("+","00")))}},true);if($(".third_login_tip span").length==0){$(".third_login_tip .third_other_login").remove()}if(localInfo.isReReg=="1"){var a=$("#twicePhoneAccount").attr("data-attr");a=getExpressPhone(a);$("#twicePhoneAccount").text(a);$.label($("#twice_login_password"),rss_new.login_js_password);$.label($("#twiceRandomCode"),rss_new.securityCenter_input_authcode)}}function l(){$(".rember").click(function(){if($(".login-checkbox").hasClass("off")){$(".login-checkbox").removeClass("off");$(".login-checkbox").addClass("on");$("#remember_name").prop("checked",true)}else{$(".login-checkbox").removeClass("on");$(".login-checkbox").addClass("off");$("#remember_name").prop("checked",false)}});e.keyup(function(){var e=$(this);if(e.val()!=""&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())){e.val("")}});n.keyup(function(){var e=$(this);if(e.val()!=""&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())){e.val("")}});r.keyup(function(){var e=$(this);if(e.val()!=""&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())){e.val("")}});$(".cookie-pro").bind("click",function(){window.open(localInfo.cookiePrivacyPolicyUrl,"_blank")});$(window).bind("load",function(){setTimeout(function(){if($("#randomCodeImg")[0]&&$("#randomCodeImg")[0].src.indexOf("loading.gif")!=-1){L()}},200)});$(document).on("click","#btnLogin,#btnSMSLogin",function(){localInfo.authDialog=null;if($(this).data("type")=="accountLogin"){localInfo.userAccount=e.val().trim();localInfo.passWord=o.val();if(!localInfo.isThirdBind&&localInfo.displayCaptchaType=="1"&&localInfo.isNeedImageCode&&$("#captcha1").length<=0){getCaptcha();return}if($("#btnLogin").hasClass("disabled")){return false}var n=$("#loginform")[0];if(!validator(n,true)){return false}if(localInfo.isNeedImageCode&&$("#captcha1").length>0&&localInfo.displayCaptchaType=="1"){W("allClean");$("#captcha1").click();return}if($("#captcha1").length>0&&!getRandomCode()&&localInfo.displayCaptchaType=="1"){W("allClean");$("#captcha1").click();return false}$("#btnLogin").blur();login()}else if($(this).data("type")=="smsLogin"){var n=$(".smsLogin-form")[0];if(!validator(n,true)){return false}$("#btnSMSLogin").blur();f()}});$(document).on("focusout","#login_userName",function(){if($(".global_dialog_confirm_content").length>0){return}var e=convPlusOfPhoneAccount($(this).val().trim());if(e){localInfo.querySiteTimeOut=setTimeout(function(){q(e,function(o){if(o.siteInfoList&&o.siteInfoList.length>1){d(e,o.siteInfoList,1,{},$("#login_userName"))}else if(o.siteInfoList&&o.siteInfoList.length==0){var n=o.errorCode;if(n=="10000507"){E()}}else if(o.siteInfoList&&o.siteInfoList.length==1){g(o.crossSiteModel,o.redirectSiteUrl,o.extInfo)}},true)},300)}});$(document).on("change","#login_userName",function(){localInfo.isSelectTwicePhoneAccount=false;localInfo.userPhoneAccount="";localInfo.norCrossModel=undefined});$(".form-edit-area").on("change","#remember_name,#remember_smsName",function(e){var o=$(this);var n=o.next().find(".checkBox-icon");if(o.prop("checked")){if(n){n.removeClass("tick-off-icon").addClass("tick-on-icon")}}else{if(n){n.removeClass("tick-on-icon").addClass("tick-off-icon")}}});$(".form-edit-area").on("mouseover mouseout","#rememberNameSpan,#sms-rememberNameSpan",function(e){if(e.type=="mouseover"){var o='<div class="bubble-tip-content">'+'<div class="bubble-tip">'+'<div class="bubble-tip-img bubble-tip-left-top"></div>'+'<div class="bubble-tip-img bubble-tip-right-top"></div>'+'<div class="bubble-tip-img bubble-tip-top"></div>'+'<div class="bubble-tip-img bubble-tip-left"></div>'+'<div class="bubble-tip-img bubble-tip-right"></div>'+'<div class="bubble-tip-center l">'+rss.remeber_account_tip+"</div>"+'<div class="bubble-tip-img bubble-tip-left-bottom"></div>'+'<div class="bubble-tip-img bubble-tip-right-bottom"></div>'+'<div class="bubble-tip-img bubble-tip-underline"></div>'+'<div class="bubble-tip-img bubble-tip-bottomArrow"></div>'+"</div>"+"</div>";$(this).next().html(o).show();$(".bubble-tip-content").find(".bubble-tip-left,.bubble-tip-right").css("height",$(".bubble-tip-content").find(".bubble-tip-center").height()+"px")}else if(e.type=="mouseout"){$(this).next().html("").hide()}});$(".changeLoginType").on("click",function(){if(localInfo.querySiteTimeOut){clearTimeout(localInfo.querySiteTimeOut)}var e=$(this).data("type");if(e=="userAccountLogin"){$(".reRegLogin").hide();localInfo.isReReg=0;$(".userAccountLogin").hide();$(".smsValidateLogin").show();if(localInfo.displayCaptchaType=="1"){localInfo.currentPage="SMSLogin";localInfo.geetestOperType="1";if($("#captcha1").length>0&&$(".geetest_panel.geetest_wind").length>0){$(".geetest_panel.geetest_wind").remove();localInfo.gtLoadReady=false}}$("#login_phoneNum").focus();G()}else if(e=="smsValidateLogin"){$(".reRegLogin").hide();localInfo.isReReg=0;$(".smsValidateLogin").hide();$(".userAccountLogin").show();if(localInfo.displayCaptchaType=="1"){localInfo.currentPage="pwdLogin";localInfo.geetestOperType="";if($("#captcha1").length>0){$(".geetest_panel.geetest_wind").remove();registerRandomCode()}}$("#login_userName").focus()}else if(e=="avatarLogin"){localInfo.isReReg=0;$(".reRegLogin").hide();$(".smsValidateLogin").hide();$(".userAccountLogin").show();if(localInfo.displayCaptchaType=="1"){localInfo.currentPage="pwdLogin";localInfo.geetestOperType="";if($("#captcha1").length>0){$(".geetest_panel.geetest_wind").remove();registerRandomCode()}}$("#login_userName").focus()}});$("#getSmsRandomCode").on("click",function(e){if($("#getSmsRandomCode").hasClass("btnUnable")||$("#getSmsRandomCode").attr("disabled")){return false}if(!validator($("#login_phoneNum"),true)){return false}if(localInfo.displayCaptchaType=="0"&&!validator($("#smsRandomCode"),true)){return false}W("allClean");A()});$("#btn-more").on("click",function(e){var o=$("#more_list");o.css("display")=="none"?o.show():o.hide();e.stopPropagation()});$("#loginform").on("click",function(){var e=$("#more_list");if(e.css("display")!="none"){e.hide()}if($("#selectCountryRegionDiv .countryCodeBox").length>0){$("#selectCountryRegionDiv").html("")}});$("#goSecurity").on("click",function(){window.top.location.href=localHttps_AMW+"/portal/securitycenter/securityCenter.html"+localInfo.queryString});$("#goConFaq").on("click",function(){window.top.location.href=localInfo.faqLink});$("#appealLink").on("click",function(){window.top.location.href=localHttps_AMW+"/portal/appealSelf/applyChangeAccount.html"+localInfo.queryString});$(".regBtn").click(function(){ne(localInfo.regseterLink)});$(".forgetPwd").click(function(){ne(localInfo.findPwd+localInfo.urlQurey)});$("#center").on({mouseover:function(){$("#soft_center_nav").addClass("cur_img_up");$("#soft_center_nav").removeClass("cur_img_down");$("#soft-center").show()},mouseout:function(){$("#soft_center_nav").addClass("cur_img_down");$("#soft_center_nav").removeClass("cur_img_up");$("#soft-center").hide()}});$("#languagetipId").on({mouseover:function(){$("#language-imgID").addClass("language-img_up");$("#language-imgID").removeClass("language-img_down");$("#language_list").show()},mouseout:function(){$("#language-imgID").addClass("language-img_down");$("#language-imgID").removeClass("language-img_up");$("#language_list").hide()}})}function c(e,o,n){var r=function(e){if(t.length==0){return false}for(var o=0;o<t.length;o++){var n=t[o];if(n===e){return true}}return false};if(e==undefined||e.length<=1){return false}var t=[];var i=[];for(var s=0;s<e.length;s++){if(!r(e[s].cy)){t.push(e[s].cy);i.push(e[s].expressCY||"")}}if(t.length<=1){return false}else{for(var s=0;s<t.length;s++){o.push(t[s]);n.push(i[s])}return true}}function u(e,o,n){var r=[];var t=function(e){if(r.length==0){return false}for(var o=0;o<r.length;o++){var n=r[o].rCy;if(n===e){return true}}return false};var i=function(e){if(e===o){return true}else{return false}};if(e==undefined||e.length<=1){return false}for(var s=0;s<e.length;s++){if(i(e[s].cy)){if(!t(e[s].rCY)){var a={};a.rCy=e[s].rCY;a.expressRCy=e[s].expressRCy;r.push(a)}}}if(r.length<=1){return false}else{for(var s=0;s<r.length;s++){n.push(r[s])}return true}}function d(e,o,n,r,t){if(o.length<=1){return}n=n||1;r=r||{};var i=[];var s=[];var a=false;var l=[];var f=false;var p=false;var m=function(e){return e[0].cy};var h=function(e,o){for(var n=0;n<e.length;n++){if(e[n].cy===o){return e[n].rCY}}};if(n==1){a=c(o,i,s);if(!a){var _=m(o);r.firstInfo=_;if(!e.startsWith("00"+_)){e="00"+_+e}d(e,o,n+1,r,t);return}}if(n==2){f=u(o,r.firstInfo,l);if(!f){var v=h(o,r.firstInfo);r.secInfo=v;var C={registerCountry:v};q(e,function(o){if(o.siteInfoList&&o.siteInfoList.length>1){d(e,o.siteInfoList,n+1,r,t)}else{}},false,false,12,C);return}}var I="";if(n==1){localInfo.isSelectTwicePhoneAccount=false;for(var y=0;y<i.length;y++){I+='<div class="multi-account-row code-node line mkcl">';I+='<b class="radioUnCheck ccr radio roff r" data-group="toSelect" data-value="'+i[y]+'"></b>';I+='<p class="item">';I+='<span class="inlineBloke">'+s[y]+'</span><span class="split">&nbsp;+'+i[y]+"&nbsp;</span>";I+="</p>";I+="</div>"}}if(n==2){localInfo.isSelectTwicePhoneAccount=false;for(var y=0;y<l.length;y++){I+='<div class="multi-account-row code-node line mkcl">';I+='<b class="radioUnCheck ccr radio roff r" data-group="toSelect" data-value="'+l[y].rCy+'"></b>';I+='<p class="item">';I+='<span class="split cc multi-col-name">'+l[y].expressRCy+"</span>";I+="</p>";I+="</div>"}}if(n==3){for(var y=0;y<o.length;y++){I+='<div class="multi-account-row row-step3 code-node line mkcl">';I+='<b class="radioUnCheck ccr radio roff r" data-group="toSelect" data-value="'+o[y].loginID+'"></b>';if(o[y].avatar){I+='<span class="l"><img src="'+o[y].avatar+'" alt="" class="avatarDefault avatarCircle" onerror="this.src='+"''"+'"></span>'}else{I+='<span class="l"><img src="'+(localInfo.defaultAvatar||"#")+'" class="avatarDefault" alt="" onerror="this.src='+"''"+'"></span>'}I+='<p class="item">';I+='<span class="split cc multi-col-name">'+(o[y].nickName||"")+'</span><span class="split ua multi-col-account">'+o[y].loginID+"</span>";I+="</p>";I+="</div>"}}var h=function(e,o){for(var n=0;n<e.length;n++){if(e[n].cy===o){return e[n].rCY}}};var b=[rss_new.uc_common_choose_country_code_tip,rss_new.uc_twice_countryregion,rss_new.uc_twice_selecloginID];$("<div/>").Dialog({title:b[n-1],titleUnderline:false,btnRight:false,btnLeft:false,html:I,cancelFn:function(){$("#login_userName").val("").siblings("label").show();localInfo.registerCountry="";localInfo.userPhoneAccount=""},beforeAction:function(){var i=this;i.disableLock=false;$(".radioUnCheck,.radioCheck").bind("click",function(){if(i.disableLock){return}i.disableLock=true;var s=$(this);var a=s.attr("data-value");s.removeClass("radioUnCheck");s.addClass("radioCheck");if(n==1){r.firstInfo=a;if(!e.startsWith("00"+a)){e="00"+a+e;t.val(e)}setTimeout(function(){d(e,o,n+1,r,t)},300)}if(n==2){r.secInfo=a;var l={registerCountry:a};setTimeout(function(){q(e,function(o){if(o.siteInfoList&&o.siteInfoList.length>1){d(e,o.siteInfoList,n+1,r,t)}else if(o.siteInfoList&&o.siteInfoList.length==0){var i=o.errorCode;if(i=="10000507"){E()}}else if(o.siteInfoList&&o.siteInfoList.length==1){localInfo.userPhoneAccount=e;localInfo.isSelectTwicePhoneAccount=true;t.val(o.siteInfoList[0].loginID);g(o.crossSiteModel,o.redirectSiteUrl,o.extInfo)}},false,false,12,l)},300)}if(n==3){r.thirdInfo=a;localInfo.userPhoneAccount=e;localInfo.isSelectTwicePhoneAccount=true;t.val(a);var l={registerCountry:r.secInfo,anonymousLoginID:a};setTimeout(function(){q(e,function(e){if(e.siteInfoList.length==1){g(e.crossSiteModel,e.redirectSiteUrl,e.extInfo)}},false,false,13,l)},300)}i.hide()})}}).Dialog("show")}window.login=function(e,o){localInfo.userAccount=$("#login_userName").val().trim();var n={loginUrl:localInfo.loginUrl,service:localInfo.service,loginChannel:localInfo.loginChannel,reqClientType:localInfo.reqClientType,lang:localInfo.lang,userAccount:convPlusOfPhoneAccount(localInfo.userAccount),password:localInfo.passWord,quickAuth:localInfo.quickAuth,isThirdBind:localInfo.isThirdBind==undefined?0:localInfo.isThirdBind,hwmeta:$("#hwmeta").val(),fromCloud:localInfo.fromCloud,lowLogin:localInfo.lowLogin};if(localInfo.isReReg=="1"){var r=$("#twicePhoneAccount").attr("data-attr");n.userAccount=r;n.anonymousLoginID=localInfo.loginID;n.password=$("#twice_login_password").val();n.registerCountry=localInfo.rCY||""}if(localInfo.isSelectTwicePhoneAccount){n.anonymousLoginID=n.userAccount;n.userAccount=localInfo.userPhoneAccount;n.registerCountry=localInfo.registerCountry||""}if(e&&e.hasOwnProperty("keepOtherDevLogon")){n.keepOtherDevLogon=e.keepOtherDevLogon}var t=localInfo.norCrossModel;var i=1;if(t==undefined){q(n.userAccount,function(e){if(e.isSuccess!=1&&e.errorCode!="10000004"){H(rss.error_10000001,"loginErr")}i=e.existAccountFlag},false,true);if(localInfo.chkRiskFail||i>1){return}t=localInfo.norCrossModel}if(localInfo.isNeedImageCode&&typeof getRandomCode=="function"){localInfo.captchaRandomCode=getRandomCode()}if(t==2&&localInfo.isThirdBind){N();return}if(t==2){g(2,localInfo.redirectSiteUrl,localInfo.extInfo);return}if($("#remember_name").length>0){if($("#remember_name").prop("checked")){n.remember_name="on"}else{n.remember_name="off"}}else{if(localInfo.rememberAccount){n.remember_name="on"}else{n.remember_name="off"}}var s=false;if(localInfo.isNeedImageCode){n.authcode=localInfo.captchaRandomCode;if(localInfo.isReReg=="1"&&localInfo.displayCaptchaType!="1"){n.authcode=$("#twiceRandomCode").val().trim()}}if(e&&e.remember_client_flag){n.remember_client_flag=e.remember_client_flag}if(e&&e.agrIDs){n.agrIDs=e.agrIDs}if(e&&e.guardianUserID){n.guardianUserID=e.guardianUserID}if(e&&e.guardianPwd){n.guardianPassword=e.guardianPwd}if(e&&e.newPassword){n.newPassword=e.newPassword}if(e&&e.opType){n.opType=e.opType}if(e&&e.authcode){n.authcode=e.authcode}if(e&&e.twoStepVerifyCode){n.twoStepVerifyCode=e.twoStepVerifyCode;n.verifyAccountType=e.verifyAccountType;n.verifyUserAccount=e.verifyUserAccount}if(e&&e.tipsSceneID){n.tipsSceneID=e.tipsSceneID}if(n.opType==14){n.forceBindSecAccount=(e||{}).forceBindSecAccount;n.forceBindSecAccountAuthCode=(e||{}).forceBindSecAccountAuthCode}if(n.opType==15){n.forceChangePhone=(e||{}).forceChangePhone;n.forceChangePhoneAuthCode=(e||{}).forceChangePhoneAuthCode}var a;if(n.opType=="6"||n.opType=="9"){a="riskLogin"}else{a="remoteLogin"}W("allClean");ajaxHandler(a,n,function(r){if(r.extInfo){localInfo.extInfo=r.extInfo}else if(r.errorDesc&&isJSONStr(r.errorDesc)){var t=$.parseJSON(r.errorDesc);localInfo.extInfo=t.extInfo}if("1"==r.isSuccess){var i=r.needPopTrust;var s=r.needVerifyOrChangePhone;var a={needVerifyOrChangePhone:s,verifyAccountList:r.verifyAccountList};if(i&&localInfo.authDialog){$(".global_dialog_confirm_main").hide();Q(function(){if($.isFunction(o)){o()}$(".loginmask").show();ne(r.callbackURL);return false},a)}else if(s){$(".global_dialog_confirm_main").hide();popVerifyOrChangeMobilePhone(a,function(){if($.isFunction(o)){o()}$(".loginmask").show();ne(r.callbackURL);return false})}else{if($.isFunction(o)){o()}$(".loginmask").show();ne(r.callbackURL);return false}}else{p(r,n,o,e);try{if(hwcap){hwcap.reload()}}catch(e){}}},function(e){},false,"JSON")};function f(e,o){var n=getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode")));var r={userAccount:n,smsAuthCode:$("#smsAuthCode").val(),opType:"11",reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,lang:localInfo.lang,service:localInfo.service,quickAuth:localInfo.quickAuth,siteID:localInfo.accBelongSite};if($("#remember_smsName").length>0){if($("#remember_smsName").prop("checked")){r.remember_name="on"}else{r.remember_name="off"}}else{if(localInfo.rememberAccount){r.remember_name="on"}else{r.remember_name="off"}}W("allClean");ajaxHandler("loginBySMS",r,function(n){if("1"==n.isSuccess){if($.isFunction(o)){o()}$(".loginmask").show();gotoUrl(n.callbackURL);return false}else{p(n,r,o,e)}},function(e){},false,"JSON")}function p(o,n,r,t){var i=n.opType?n.opType:"0";var s=o.errorCode;if(localInfo.displayCaptchaType=="1"&&$("#captcha1").length>0){resetRandomCode()}var s=o.errorCode;var i=n.opType?n.opType:"0";switch(s){case"10002080":{var a=$.parseJSON(o.errorDesc);var l=a.authCodeSentList;var c=a.tipsSceneID;var u=rss_new.risk_control_low;if(c=="1"){u=rss_new.risk_control_high}var d;var p=false;var m=[];var _=convPlusOfPhoneAccount($("#login_userName").val().trim());if(localInfo.isSelectTwicePhoneAccount){_=localInfo.userPhoneAccount}if(localInfo.isReReg=="1"){_=$("#twicePhoneAccount").attr("data-attr")}$.each(l,function(e,o){if(o.sent==1&&o.accountType==-1){p=true}});if(p){d={userAccount:_,callbackFn:login,siteID:localInfo.curAccountSiteID,password:$("#password").val(),authCodeSentList:l};acctProtectV2Dialog(d)}else{$.each(l,function(e,o){m.push({accountType:o.accountType,userAccount:o.name})});d={lBtnTxt:rss_new.box_js_cancel,rBtnTxt:rss_new.box_js_confirm,queryCond:_,siteID:localInfo.curAccountSiteID,accountInfoArr:m,extInfo:localInfo.extInfo,accountInfoArr:m,desc:u,tipsSceneID:c,callbackFn:login};authDialog(d)}break}case"10002081":case"10008005":{if($.isFunction(r)){r()}var d={siteID:localInfo.curAccountSiteID,opType:"9",callbackFn:login};d.tipsSceneID=n.tipsSceneID;if(n.twoStepVerifyCode){d.twoStepVerifyCode=n.twoStepVerifyCode;d.verifyUserAccount=n.verifyUserAccount;d.verifyAccountType=n.verifyAccountType;d.dialog=n.dialog;d.opType="6"}updatePWDDialog(d);break}case"10002071":{var _=e.val();if(localInfo.isSelectTwicePhoneAccount){_=localInfo.userPhoneAccount}h(_,"",rss.unverified_email_addr,rss.email_has_sendto.format(_),localInfo.emailPng,rss.resend,rss.exit,rss.verified);break}case"10001015":{if(i=="11"){var d={callbackFn:f,mobilePhone:getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode"))),smsAuthCode:$("#smsAuthCode").val(),opType:i}}else{var d;if(localInfo.isReReg=="1"){d={callbackFn:login,userAccount:convPlusOfPhoneAccount($("#twicePhoneAccount").attr("data-attr")),password:$("#twice_login_password").val(),authcode:n.authcode,opType:i}}else{d={callbackFn:login,userAccount:convPlusOfPhoneAccount($("#login_userName").val().trim()),password:$("#login_password").val(),authcode:n.authcode,opType:i}}}popAgreeDFDialog(d);break}case"10000510":{if(i=="11"){var d={callbackFn:f,mobilePhone:getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode"))),smsAuthCode:$("#smsAuthCode").val(),opType:i}}else{var d={callbackFn:login,userAccount:$("#login_userName").val().trim(),password:$("#login_password").val(),authcode:n.authcode,opType:i}}if(localInfo.isThirdBind=="1"){var t={"userAccount":d.userAccount,"password":d.password};agreeCrossSiteAgr(t,d.authcode,d.callbackFn)}else{crossSiteIDDialog(d)}break}case"10000507":{E();break}case"10000508":{N();break}case"10000511":{g(2,o.callbackURL,o.extInfo);break}case"10000201":{localInfo.isNeedImageCode=true;if($("#captcha1").length<=0){getCaptcha()}if(i=="0"){if(localInfo.thirdLoginFlag&&localInfo.thirdLoginFlag==true){window.location.href=localInfo.loginUrl}if($.isFunction(r)){r()}H(rss.randomCodeIsInvalid,"randomCode",$("#captcha1"));$("#randomCode").focus();L()}else if(i=="11"){H(rss.picCodeExpired,"smsRandomCode",$("#smsCaptcha"));$("#smsRandomCode").focus();L("smsRandomCode")}break}case"10000400":{if(i=="0"){H(rss_new.login_errorCode_10000400,"loginErr","",true)}else if(i=="1"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_auth").html(rss.error_70002057_1)}break}case"10000003":case"70002076":{$("div").DialogSimple({text:rss.error_70002076,btnText:rss.ok,btnFn:function(){window.open(localHttps_AMW+"/securitycenter/unfrozeAccount.html"+localInfo.queryString)},btnLeftText:rss.cancel}).show();break}case"10002039":{if(i=="0"){H(rss.error_70002039,"randomCode",$("#captcha1"))}else if(i=="1"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_auth").html(rss.error_70002039)}else if(i=="14"){$("#forceBind_auth_error_tip").text(rss_new.uc_error_70002039).addClass("error-tips-EMUI5");$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")}break}case"70002039":{if(i=="15"){$("#forceBind_auth_error_tip").text(rss_new.uc_error_70002039).addClass("error-tips-EMUI5");$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")}break}case"10002057":{if(i=="0"){H(rss_new.login_errorCode_70002057,"loginErr","",true);$(".error_findPwd").on("click",function(){if(localInfo.resetPwdLink){window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink}else{window.top.location.href=localInfo.findPwd+localInfo.queryString}})}else if(i=="1"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_auth").html(rss.error_70002057_1)}else if(i=="9"||i=="6"){M($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002057_2)}else if(i=="11"){H(rss.smsLoginError_70002057,"loginErr")}else if(i=="14"){$("#forceBind_auth_error_tip").text(rss_new.uc_error_70002057).addClass("error-tips-EMUI5");$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")}break}case"70002057":{if(i=="15"){$("#forceBind_auth_error_tip").text(rss_new.uc_error_70002057).addClass("error-tips-EMUI5");$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")}else if(i=="11"){H(rss.smsLoginError_70002057,"loginErr")}break}case"10002058":{if(i=="0"){H(rss_new.login_errorCode_70002058,"loginErr","",true);$(".error_findPwd").on("click",function(){if(localInfo.resetPwdLink){window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink}else{window.top.location.href=localInfo.findPwd+localInfo.queryString}})}else if(i=="1"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_auth").html(rss.uc_error_70002058_3)}else if(i=="9"||i=="6"){M($("#passwordDivTip"),$("#new_pwd_error_info"),rss.uc_error_70002058_3)}else if(i=="11"){H(rss.smsLoginError_70002058,"loginErr")}else if(i=="14"){$("#forceBind_auth_error_tip").text(rss_new.uc_error_70002058).addClass("error-tips-EMUI5");$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")}break}case"70002058":{if(i=="15"){$("#forceBind_auth_error_tip").text(rss_new.uc_error_70002058).addClass("error-tips-EMUI5");$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")}else if(i=="11"){H(rss.smsLoginError_70002058,"loginErr")}break}case"70008001":{M($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70008001);break}case"70002070":{M($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002070);break}case"70002020":{M($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70002020);break}case"70009016":{M($("#passwordDivTip"),$("#new_pwd_error_info"),rss.error_70009016);break}case"70005004":{if(i=="0"){H(rss.error_70005004,"loginErr")}else if(i=="1"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_auth").html(rss.error_70005004)}break}case"10000505":{if(i=="0"){H(rss.error_10000505,"loginErr")}else if(i=="1"){$("#authCodeDiv").addClass("input-error-EMUI5");$("#msg_error_auth").html(rss.error_10000505)}break}case"10000402":{if(i=="11"){H(rss.smsLoginError_10000402,"loginErr","",true)}break}case"70001401":{if(i=="11"){H(rss.smsLoginError_70001401,"loginErr")}break}case"70008805":{if(i=="11"){H(rss.smsLoginError_70008805,"loginErr")}break}case"10012075":{var d={callbackFn:login,errorDesc:o.errorDesc};forceBindPhone(d);break}case"10012078":{var d={callbackFn:login,errorDesc:o.errorDesc};popOldUserBind(d);break}case"70002001":{$("div").DialogSimple({text:rss_new.loginError_70002001.format(n.userAccount),btnText:rss_new.loginError_70002001_confirmBtn,btnFn:function(){location.href=localHttps+"/portal/userRegister/regbyphone.html"+localInfo.queryString},btnLeftText:rss_new.box_js_cancel}).show();break}case"70006007":{if(i=="14"){$("#forceBindPhoneErrInfo").text(rss_new.uc_error_70006007_1).addClass("error-tips-EMUI5");$("#forceBindPhoneNumDiv").addClass("input-error-EMUI5")}break}case"10002083":{H(rss_new.operate_too_much_tip,"loginErr","",true);break}case"70002002":{if(i=="15"){$("#forceBindPhoneErrInfo").text(rss_new.uc_common_phone_account_exists).addClass("error-tips-EMUI5");$("#forceBindPhoneNumDiv").addClass("input-error-EMUI5")}break}default:{if(i=="0"){H(rss.error_10000001,"loginErr")}else if(i=="1"){$("#msg_error_auth").html(rss.error_10000001)}else if(i=="9"||i=="6"){M("",$("#new_pwd_error_info"),rss.error_10000001)}else if(i=="11"){H(rss.smsLoginError_70001401,"loginErr")}else if(i=="14"||i=="15"){$("#forceBind_auth_error_tip").text(rss_new.uc_error_10000001).addClass("error-tips-EMUI5");$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")}break}}}function g(e,o,n){if(e==2){if(localInfo.isThirdBind){return}if(o.indexOf("oauth2")>0){o=o+localInfo.queryString}else{if(localInfo.isNewCloudLoginPage=="true"){if(localInfo.supportNewCloudLogin){o=o+localInfo.requestURIQuery+"&lowLogin=true"}else{o=o+localInfo.oldRequestURIQuery}}else{o=o+localInfo.requestURIQuery}}if(n){if(o.indexOf("?")>0){o=o+"&extInfo="+n}else{o=o+"?extInfo="+n}}m(o)}}function m(e){var o=rss.global_cross_page_redirect;$("<div>").Dialog({title:rss.prompt,btnLeft:{text:rss.cancel_btn,fn:function(){this.hide()}},btnRight:{text:rss.iKnowBtn,fn:function(){if(localInfo.isNewCloudLoginPage=="true"&&localInfo.supportNewCloudLogin){gotoUrl(e)}else{ne(e)}}},html:o,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function h(e,o,n,r,t,i,s,a){if(e==null){return}e=e.trim();var l=getAccountType(e);if(l=="2"){_(e,o,n,r,t,i,s,a)}else if(l=="1"){b(o,n,r,t,i,s,a)}else{H(rss_new.uc_error_70002009,"loginErr","",true)}}function _(e,o,n,r,t,i,s,a){var l=e;var c="";c=c+'<p class="inptips2">'+rss.uc_verify_phone_tip.format(getExpressPhone(l))+"</p>";c=c+'<div id="unactived_phone"></div>';c=c+'<div class="dinput"  id="oldAuthCode-box"><input id="security_account_verify_code" type="text"/><div class="dbtn2 sbtn r" act="getVerificationCode" intervaltime="60" id="getAuthCodeBtn"><span>'+rss.getAuthCode+'</span><div id="get_authcode_error_info"></div></div></div><div id="auth_code_error_info" class="error-tips-EMUI5"></div>';var u={title:rss.uc_verify_phone,btnRight:{text:rss.verify,fn:function(){var o=this;if(!validator($("#security_account_verify_code"),true)){return}var n=$("#security_account_verify_code").val();y(e,n,function(){o.hide()})}},btnLeft:{text:rss.cancel_btn,fn:function(){}},actions:{getVerificationCode:function(){var o=this;if(v(this.$dialog)){C(2,e,0,function(e){if(e){I(o.$dialog,rss.resend)}})}}},html:c,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var e=this;F($("#security_account_verify_code"),$("#oldAuthCode-box"),$("#auth_code_error_info"));e.disabled();var o=$("#security_account_verify_code");o.bind("keyup paste",function(){var o=this;setTimeout(function(){if($(o).val().trim()!=""){e.enable()}else{e.disabled()}},0)})}};$("<div>").Dialog(u).Dialog("show");$.label($("#security_account_verify_code"),rss.smsAuthCode)}function v(e,o){var n=e.find("[act='getVerificationCode']");var r=n.attr("disabled");if(r){return false}return true}function C(e,o,n,r,t){if(!t){t=o}var i={};var s="";var a=$("#auth_code_error_info");var l={10000002:rss_new.uc_error_10000001,10000003:rss_new.uc_error_10000001,70001201:rss_new.uc_error_10000001,"default":rss_new.resetpwd_get_authcode_error};if(e==1||e==5){i={email:o,emailReqType:n,accountType:e,reqClientType:localInfo.reqClientType,operType:19,languageCode:localInfo.lang};l["70001102"]=rss_new.uc_error_70001102_0;l["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCode(i,c,u,l)}else if(e==2||e==6){i={accountType:e,userAccount:o,reqClientType:localInfo.reqClientType,mobilePhone:t,operType:19,smsReqType:n,languageCode:localInfo.lang};l["70001102"]=rss_new.uc_error_70001102_1;l["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSAuthCode(i,c,u,l)}function c(n){if(e==2||e==6){showMsgSuccess({obj:$("#get_authcode_error_info"),msg:rss.phoneMegHasSendTo.format(getExpressPhone(o)),leftPix:"-289px",rightPix:"-289px",bottom:"38px"})}else if(e==1||e==5){showMsgSuccess({obj:$("#get_authcode_error_info"),msg:rss.emialHasSendTo.format(o),leftPix:"-289px",rightPix:"-289px",bottom:"38px"});$(".userAccount").html(o)}if(r){r(n.isSuccess==1?true:false)}}function u(e,o){M("",a,e);if(r){r(o.isSuccess==1?true:false)}}}function I(e,o){var n=e.find("[act='getVerificationCode']");var r=n.attr("disabled");if(r){return false}n.addClass("auth_code_grey");jsInnerTimeout(n,o);return true}function y(e,o,n){var r={operType:1,mobilePhone:e,reqClientType:localInfo.reqClientType,smsAuthCode:o};ajaxHandler("activateMsisdn",r,function(e){if(e&&e.isSuccess==1){if(typeof n=="function"){n()}}else{switch(e.errorCode){case"10000001":case"70001101":case"70001201":{M($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_10000001);break}case"70002039":{M($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_70002039);break}case"70001401":{M($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_70001401);break}case"70002001":{M($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_70002001);break}case"70002057":{M($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_70002057_1);break}default:{M($("#oldAuthCode-box"),$("#auth_code_error_info"),rss.error_10000001);break}}}},function(){},true,"json")}function b(e,o,n,r,t,i,s){var a=" ";a+="<div>";a+='<p class="inptips3 det-width">'+n+"</p>";a+='<div style="margin-top: 10px">';a+='<div class="dbtn3 resendBtn" act="action"  intervaltime="60" id="getActive"><span>'+t+"</span></div>";a+='</div><div id="get_authcode_error_info" class="error-tips-EMUI5 emailValidFail"></div>';a+="</div>";var l={title:rss.unverified_email_addr,btnRight:{text:s,fn:function(){if(R(convPlusOfPhoneAccount($("#login_userName").val().trim()))){this.hide()}else{M("",$("#get_authcode_error_info"),rss.verification_not_completed)}}},btnLeft:{text:i,fn:function(){this.hide()}},html:a,dialogStyle:localInfo.msgDialogStyle,actions:{"action":function(){if($("#getActive").attr("disabled")){return false}if(R(convPlusOfPhoneAccount($("#login_userName").val().trim()))){M("",$("#get_authcode_error_info"),rss.error_70002019);return false}P(convPlusOfPhoneAccount($("#login_userName").val().trim()),localInfo.reqClientType,$("#getActive"))}}};$("<div>").Dialog(l).Dialog("show");P(convPlusOfPhoneAccount($("#login_userName").val().trim()),localInfo.reqClientType,$("#getActive"));$(".userAccount").html(convPlusOfPhoneAccount($("#login_userName").val().trim()))}function w(){var e=getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode")));var o={phoneOrEmail:e,authCodebtn:$("#getSmsRandomCode")};o.account=e;o.siteID=localInfo.accBelongSite;o.reqType=2;o.accountType=2;o.errorTip=$("#smsAuthCode-errMsg");o.errorDiv="";o.isSmsLogin=true;B(o)}function A(){var e=getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode")));var o;var n=false;var r;q(e,function(e){o=e.crossSiteModel;if(e.isSuccess==1){n=e.allowSMSLogin;localInfo.accBelongSite=e.siteInfoList[0].siteID;r=e.isNeedImageCode;if(!n){$("div").DialogSimple({text:rss_new.smslogin_pleaseUsePwdLogin,btnText:rss_new.box_js_confirm,btnFn:function(){this.hide();$(".changeLoginType").click()},btnLeftText:rss_new.box_js_cancel}).show()}if(o==2){g(2,e.redirectSiteUrl,localInfo.extInfo)}}else{if("10002083"==e.errorCode){H(rss.smsLoginError_70001401,"loginErr")}}},false,true,"11");if(!n||o==2){return}if(localInfo.displayCaptchaType=="1"&&r){localInfo.currentPage="SMSLogin";if($("#captcha1").length<=0||localInfo.displayCaptchaType=="1"&&$(".geetest_panel.geetest_wind").length<=0){localInfo.gtLoadReady=false;getCaptcha()}k()}else{w()}}function T(){$("#captcha1").click()}function k(e){if(localInfo.gtLoadReady){T();return}if(e>1200){return}else{e=e+1;setTimeout(k,50,e)}}function x(e,o){var n=e.search,r=!n?[]:n.split("&"),t={};for(var i=0,s=r.length;i<s;i++){var a=r[i].split("=");var l=a[0];if(i==0){l=l.split("?")[1]}if(o==l)return a[1]}return""}function L(e){if("smsRandomCode"==e){var o=$("#smsRandomCode");var n=$("#smsRandomCodeImg");chgRandomCode(n[0],localInfo.webssoSMSLoginSessionCode);o.val("");$("#smsAuthCodeRight").removeClass("poptips-yes");$("#smsRandomCode_msg").html("");W("randomCode")}else if("twiceRandomCode"==e){var r=$("#twiceRandomCode");var t=$("#twiceRandomCodeImg");chgRandomCode(t[0],localInfo.reRegLoginSessionCode);r.val("");$("#twiceAuthCodeRight").removeClass("poptips-yes");W("twiceRandomCode")}else{var r=$("#randomCode");var t=$("#randomCodeImg");chgRandomCode(t[0],localInfo.webssoLoginSessionCode);r.val("");$("#authCodeRight").removeClass("poptips-yes")}try{if(hwcap){hwcap.reload()}}catch(e){}}function S(e,o,n){var r={"userAccount":convPlusOfPhoneAccount(e),"reqClientType":localInfo.reqClientType,"operType":o};ajaxHandler("getUserAccInfo",r,function(e){var o=e.isSuccess;if(o=="1"){n(e)}},function(){},false,"json")}function R(e){var o=true;S(e,5,function(e){if(e.userState==-1){o=false}else{o=true}});return o}function P(e,o,n){var r={reqClientType:o,languageCode:localInfo.lang};n.attr("disabled");casAjaxObj.getActivateEMailURLFn(r,function(e){if(e.isSuccess=="1"){if(n!=null){n.attr("IntervalTime",60);n.addClass("auth_code_grey");jsInnerTimeout(n,rss.resend);n.attr("disabled")}}else{if(n!=null){n.removeAttr("disabled")}if(e.errorCode=="10000001"||e.errorCode=="70001201"){M("",$("#get_authcode_error_info"),rss.error_10000001)}else if(e.errorCode=="10000002"){M("",$("#get_authcode_error_info"),rss.error_10000002)}else if(e.errorCode=="10000004"){M("",$("#get_authcode_error_info"),rss.error_10000004)}else if(e.errorCode=="70002001"){M("",$("#get_authcode_error_info"),rss.error_70002001)}else if(e.errorCode=="70001401"){M("",$("#get_authcode_error_info"),rss.error_70001401)}else if(e.errorCode=="70002008"){M("",$("#get_authcode_error_info"),rss.error_70002008)}else if(e.errorCode=="70001102"){M("",$("#get_authcode_error_info"),rss.error_70001102_2)}else if(e.errorCode=="70001104"){M("",$("#get_authcode_error_info"),rss.error_70001104_3)}else if(e.errorCode=="70002019"){M("",$("#get_authcode_error_info"),rss.error_70002019)}else if(e.errorCode=="70002009"){M("",$("#get_authcode_error_info"),rss.error_70002009)}else{M("",$("#get_authcode_error_info"),rss.get_activate_email_URL_Error)}}})}function D(e){if(localInfo.cookiePrivateAgreement=="true"){if(!getCookie(e)){$("#cookies_privacy").removeClass("hidden")}$("#cookies_privacy").find("img").click(function(o){$("#cookies_privacy").addClass("hidden");setCookie(e,true)})}}function q(e,o,n,r,t,i){if(!e){return}var s={"userAccount":convPlusOfPhoneAccount(e),lowLogin:localInfo.lowLogin,service:localInfo.service,operType:t?t:"0","reqClientType":localInfo.reqClientType};if($("#login_userName").is(":hidden")&&localInfo.isThirdBind!="1"){s.operType="11"}if(t===12){s.registerCountry=i.registerCountry;localInfo.registerCountry=i.registerCountry}if(t===13){s.registerCountry=i.registerCountry;s.anonymousLoginID=i.anonymousLoginID}if(localInfo.isReReg==="1"){s.registerCountry=localInfo.rCY;s.anonymousLoginID=localInfo.loginID;s.operType="13"}ajaxHandler("chkRisk",s,function(n){var t=n.isSuccess;var i=n.errorCode;var s=n.crossSiteModel;if($("#login_userName").is(":hidden")){localInfo.phoneCrossModel=s}else{localInfo.norCrossModel=s}if(s==2){localInfo.redirectSiteUrl=n.redirectSiteUrl;localInfo.extInfo=n.extInfo;localInfo.supportNewCloudLogin=n.supportNewCloudLogin}var a=n.existAccountFlag;var l=n.isNeedImageCode;if(t==1){localInfo.curAccountSiteID=n.siteID;U(convPlusOfPhoneAccount(e));if(l==1||localInfo.isOpenLocalCacheRisk=="true"){if(localInfo.currentPage!="SMSLogin"){localInfo.isNeedImageCode=true;if($("#captcha1").length<=0){getCaptcha()}}}else{localInfo.isNeedImageCode=false;if($("#captcha1").length>0){$("#picAuthCode").empty().parent().removeClass("user-input-tr");$("#picAuthCode").removeClass("user-input-tr");W("randomCode")}}if(a==1||a==2){o(n);if(a==2){return}}}else{if($("#captcha1").length<=0){$("#randomCode").val(1111);localInfo.isNeedImageCode=false}else{localInfo.isNeedImageCode=true;$("#randomCode").val("")}if(r){localInfo.chkRiskFail=true}o(n)}},function(){},n,"json")}function E(){var e='<span class="font-EMUI6">'+rss.noSupportService+"</span>";$("<div>").Dialog({title:rss.prompt,btnLeft:false,btnRight:{text:rss.iKnowBtn,fn:function(){this.hide()}},html:e,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function N(){var e='<span class="font-EMUI6">'+rss.no_allow_cross_site_login+"</span>";$("<div>").Dialog({title:rss.prompt,btnLeft:false,btnRight:{text:rss.IGetIt,fn:function(){this.hide()}},html:e,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function U(e){if(e==null||e.trim()==""){return}else{e=e.trim()}if(localInfo.lastInputAccount==""){localInfo.lastInputAccount=e;localInfo.curInputAccount=e}else{localInfo.curInputAccount=e;if(localInfo.curInputAccount!=localInfo.lastInputAccount){localInfo.lastInputAccount=localInfo.curInputAccount}}}function M(e,o,n,r,t){r=r?r:"input-error-EMUI5";t=t?t:"error-tips-EMUI5";if(e){e.addClass(r);o.html(n).addClass(t)}else{o.html(n).addClass(t)}}function O(e,o,n,r){n=n?n:"input-error-EMUI5";r=r?r:"error-tips-EMUI5";if(e&&e!=""){e.removeClass(n)}o.html("").removeClass(r)}function F(e,o,n){validator.bind(e,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:false,msg:{require:rss.inputAuthCodeTip,length:rss.authCodeLength,number:rss.authCodeLength},errorFunction:function(e,r){o.addClass("input-error-EMUI5");switch(r.type){case"require":n.html(rss.inputAuthCodeTip);break;case"length":n.html(rss.authCodeLength);break;case"number":n.html(rss.authCodeLength)}},successFunction:function(e,o){},reInputFunction:function(){n.html("");o.removeClass("input-error-EMUI5")}})}function j(e,o,n,r,t,i,s,a,l,c){var u={accountType:o,userAccount:e,authCode:n.trim(),authOprType:r,reqClientType:reqClientType,operType:i};var d={10000001:rss_new.common_wrong_authcode,"default":rss_new.common_wrong_authcode};var a=a||$(".errortip");if(s){casAjaxObj.chkAuthCodeBySession(u,f,p,d)}else{casAjaxObj.chkAuthCode(u,f,p,d)}function f(){var r={oldAccountType:o,oldUserAccount:e,oldAuthCode:n,reqClientType:reqClientType};t(r)}function p(e){if(c=="EMUI5"){l.addClass("input-error-EMUI5");a.html(e)}else{showError(a,e)}}}function B(e){var o=e.userID;var n=e.account;var r=e.phoneOrEmail;var t=e.accountType;var i=e.authCodebtn;var s=e.reqType;var a=e.siteID;var l=e.errorStyle;var c=e.errorTip;var u=e.errorDiv;var d=e.failCustomize?e.failCustomize:false;var f="0";f=e.operType;var p=e.isLogin;var g;var m=1;i.attr("disabled");var h={10000001:rss_new.uc_error_10000001_1,"default":rss_new.uc_error_70002030};if(r.indexOf("@")!=-1){m=1;g={userID:o,accountType:t,reqClientType:localInfo.reqClientType,userAccount:n,emailReqType:s,operType:f,email:r,siteID:a,languageCode:localInfo.lang};if(p){h["70001102"]=rss_new.uc_error_70001102_0;h["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCodeBySession(g,_,v,h)}else{h["70001102"]=rss_new.uc_error_70001102_0;h["70001104"]=rss_new.uc_error_70001104_0;casAjaxObj.getEMailAuthCode(g,_,v,h)}}else{m=2;g={accountType:t,userAccount:n,reqClientType:localInfo.reqClientType,mobilePhone:r,operType:f,smsReqType:s,siteID:a,languageCode:localInfo.lang};if(e.isSmsLogin){g.operType="20";g.service=localInfo.service;g.loginChannel=localInfo.loginChannel}if(e.type=="identifyVerify"){g.smsReqType="3"}if(p){h["70001102"]=rss_new.uc_error_70001102_1;h["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSAuthCodeBySession(g,_,v,h)}else{h["70001102"]=rss_new.uc_error_70001102_1;h["70001104"]=rss_new.uc_error_70001104_1;casAjaxObj.getSMSAuthCode(g,_,v,h)}}function _(){i.attr("disabled");if(e.isSmsLogin){if(g.email){showMsgSuccess({obj:$("#smsAuthCodeTips"),msg:rss.emialHasSendTo.format(g.email),leftPix:"-243px",rightPix:"-228px",bottom:"38px"})}else{showMsgSuccess({obj:$("#smsAuthCodeTips"),msg:rss.phoneMegHasSendTo.format(getExpressPhone(g.mobilePhone)),leftPix:"-243px",rightPix:"-228px",bottom:"38px"})}}else{if(g.email){showMsgSuccess({obj:$("#authCodeError"),msg:rss.emialHasSendTo.format(g.email),leftPix:"-274px",rightPix:"-235px",bottom:"32px"})}else{showMsgSuccess({obj:$("#authCodeError"),msg:rss.phoneMegHasSendTo.format(getExpressPhone(g.mobilePhone)),leftPix:"-274px",rightPix:"-235px",bottom:"32px"})}}i.addClass("auth_code_grey");jsInnerTimeout(i,rss.resend)}function v(e,o){i.removeAttr("disabled");var n=o.errorCode;if(l){if(u&&u!=""){u.addClass("input-error-EMUI5")}if("70001104"==n){c.html(e,"left")}else{c.html(e)}}else{if("70002076"==n){$("div").DialogSimple({text:rss_new.uc_error_70002076,btnText:rss.ok,btnFn:function(){location.href=localHttps_AMW+"/securitycenter/unfrozeAccount.html"+localInfo.queryString},btnLeftText:rss.cancel}).show()}else if("70009045"==n||"70002083"==n){$("div").DialogSimple({text:rss_new.smslogin_pleaseUsePwdLogin,btnText:rss_new.box_js_confirm,btnFn:function(){this.hide();$(".changeLoginType").click()},btnLeftText:rss_new.box_js_cancel}).show()}else if("10000201"==n){H(rss.picCodeExpired,"smsRandomCode",$("#smsCaptcha"));$("#smsRandomCode").focus();L("smsRandomCode")}else if("70009032"==n){H(rss.phoneNumError,"phoneNum",$("#login_phoneNum"))}else{H(e,"loginErr")}}}}function V(){window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink}function H(e,o,n,r){if(localInfo.fromCloud){if(o=="userName"){showError($("#msg_username"),e)}else if(o=="passWord"){showError($("#msg_login_password"),e)}else if(o=="randomCode"){showError($("#msg_randomCode"),e);$(".poptips-yes").removeClass("poptips-yes")}else{showError($("#msg_login"),e)}return}var t=$(".userAccountLogin-errorTipsDiv");if($("#login_userName").is(":hidden")&&!localInfo.isReReg&&localInfo.isThirdLogin!="true"){t=$(".smsValidateLogin-errorTipsDiv")}else if(localInfo.isReReg){t=$(".twice-userAccountLogin-errorTipsDiv")}t.html('<i class="loginErrorInfo marginR6"></i>'+e).data("type",o);if(t.next().find("td").hasClass("error-underline")){t.next().find(".error-underline").removeClass("error-underline")}if(n){if("phoneNum"==o){n.parent().parent().addClass("error-underline")}else{n.parent().addClass("error-underline")}}if("loginErr"==o&&r){if($("#login_userName").is(":hidden")){$("#login_phoneNum").parent().parent().addClass("error-underline");$("#smsAuthCode").parent().addClass("error-underline")}else{$("#login_userName").parent().addClass("error-underline");$("#login_password").parent().addClass("error-underline")}}if("smsRandomCode"==o||"randomCode"==o&&n){n.parent().parent().find(".poptips-yes").removeClass("poptips-yes")}}function W(e){if(localInfo.fromCloud){$(".cloud-error-tip").remove()}var o=$(".userAccountLogin-errorTipsDiv");var n=false;if($("#login_userName").is(":hidden")&&!localInfo.isReReg&&localInfo.isThirdLogin!="true"){o=$(".smsValidateLogin-errorTipsDiv");if(e=="phoneNum"||e=="smsAuthCode"){n=true}}else{if(localInfo.isReReg){o=$(".twice-userAccountLogin-errorTipsDiv")}if(e=="userName"||e=="passWord"){n=true}}o=o||$("#msg_password");var r=o&&o.data("type");if("loginErr"==r&&n||e==r||e=="allClean"){o.html("").removeClass("loginErrorInfo");o.text("");if(o.next().find("td").hasClass("error-underline")){o.next().find(".error-underline").removeClass("error-underline")}}if("smsRandomCode"==e&&$("#smsRandomCode").val().length==0){$("#smsAuthCodeRight").removeClass("poptips-yes")}else if("randomCode"==e&&localInfo.displayCaptchaType=="0"){if(typeof getRandomCode=="function"&&(getRandomCode()||"").length==0){$("#authCodeRight").removeClass("poptips-yes")}}}function J(e,o){var n={isThird:"false"};if(e.opType=="11"){n.userAccount=e.mobilePhone}else{n.userAccount=e.userAccount}if(localInfo.isSelectTwicePhoneAccount){n.userAccount=localInfo.userPhoneAccount}ajaxHandler("agreeLatestDFVersion",n,function(n){if("1"==n.isSuccess){if(o!=undefined){o(e)}}else{}},function(e){},false,"JSON")}function Y(){window.top.location.href=localInfo.regseterLink}function Q(e,o){var n={};var r;if($("#login_userName").is(":hidden")){r=$("#login_phoneNum").val()}else{r=$("#login_userName").val()}if(!r){r=localInfo.userAccount}if(localInfo.isSelectTwicePhoneAccount){r=localInfo.userPhoneAccount}n.userAccount=r;n.operType=1;n.needVerifyOrChangePhoneParams=o;isTrustTheBrowser(n,e)}function z(){var e=localInfo.urlCountryCode;var o=K();var n=getdefaultCountryByCurrentSiteID().split("-")[1];if(localInfo.countryRegions&&localInfo.countryRegions.length>0){var r=false;var t=localInfo.rememberAccount;if(t){t=t.replace(/\"/g,"");if(isNumber(t)){var i=oe(t,localInfo.countryRegions);$("#smsLoginCountryCodeDiv .select-text").text(i.label).attr({"data-regions":i.value.split(",")[0],"data-countrycode":i.value.split(",")[1],"data-countrysite":i.value.split(",")[2]});$("#smsLoginCountryCodeDiv input").val(i.value);$("#login_phoneNum").val(removePhoneCountryCode(t,i.value.split(",")[1].replace("+","00")));$("#remember_smsName").prop("checked",true);if($("#remember_smsName_icon")){$("#remember_smsName_icon").removeClass("tick-off-icon").addClass("tick-on-icon")}r=true}}if(e&&!r){$.each(localInfo.countryRegions,function(o,n){if(e.toLowerCase()==n.value.split(",")[0]){$("#smsLoginCountryCodeDiv .select-text").text(n.label).attr({"data-regions":n.value.split(",")[0],"data-countrycode":n.value.split(",")[1],"data-countrysite":n.value.split(",")[2]});$("#smsLoginCountryCodeDiv input").val(n.value);r=true;return false}})}if(o&&!r){$.each(localInfo.countryRegions,function(e,n){if(o.toLowerCase()==n.value.split(",")[0]){$("#smsLoginCountryCodeDiv .select-text").text(n.label).attr({"data-regions":n.value.split(",")[0],"data-countrycode":n.value.split(",")[1],"data-countrysite":n.value.split(",")[2]});$("#smsLoginCountryCodeDiv input").val(n.value);r=true;return false}})}if(n&&!r){$.each(localInfo.countryRegions,function(e,o){if(n.toLowerCase()==o.value.split(",")[0]){$("#smsLoginCountryCodeDiv .select-text").text(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]});$("#smsLoginCountryCodeDiv input").val(o.value);r=true;return false}})}}if(localInfo.countryRegions.length>=1){$("#chooseCountry").removeClass("hidden")}if(localInfo.countryRegions.length>1){$("#selectCountryImg").css("display","")}else{$("#selectCountryImg").css("display","none")}}function K(){var e="";var o={"reqClientType":localInfo.reqClientType};var n="getIPCountry";ajaxHandler(n,o,function(o){if(o.isSuccess=="1"){if(o.countryCode!=""){e=o.countryCode}}},function(){},false,"JSON");return e}function G(){if($("#login_phoneNum").val().length>0&&(localInfo.displayCaptchaType=="0"&&$("#smsAuthCodeRight").hasClass("poptips-yes")||localInfo.displayCaptchaType!="0")){$("#getSmsRandomCode").removeClass("btnUnable")}else{$("#getSmsRandomCode").addClass("btnUnable")}}function X(){if(!(localInfo.isOpenDimensionalCode=="true")){return}(function(){var e=false;var o=true;var n=location.origin;var r=localInfo.getqrURL;var t=0;var i;var s;$(".loginTitle-right").click(function(){if($(this).hasClass("actived")){return}e=true;$(".loginTitle-left").removeClass("actived");$(".loginTitle-right").addClass("actived");$(".b-account").hide();$(".b-qrCode").show();d(function(){u()});s=($(".qrCode-main").width()-$("#qrcodeImg").outerWidth())/2+"px";if(isRightLang()){$("#qrcodeImg").css("right",s)}else{$("#qrcodeImg").css("left",s)}});$(".loginTitle-left").click(function(){if($(this).hasClass("actived")){return}e=false;i&&i.abort();$(".loginTitle-right").removeClass("actived");$(".loginTitle-left").addClass("actived");$(".b-account").show();$(".b-qrCode").hide();$(".qrcode-over-time").hide()});$(".qrCode-help").css("opacity","0");$("#qrcodeImg").bind("mouseenter",function(){$("#qrcodeImg").stop();$(".qrCode-help").stop();if(isRightLang()){$("#qrcodeImg").animate({"right":"20px"},700,function(){})}else{$("#qrcodeImg").animate({"left":"20px"},400,function(){})}$(".qrCode-help").animate({"opacity":1},500,function(){})});$(".qrCode-main").bind("mouseleave",function(){$("#qrcodeImg").stop();$(".qrCode-help").stop();if(isRightLang()){$("#qrcodeImg").animate({"right":s},700)}else{$("#qrcodeImg").animate({"left":s},400,function(){o=true})}$(".qrCode-help").animate({"opacity":0},300)});$("#qrcodeImg .refush").click(function(e){$(".qrcode-over-time").hide();$(".refush-content").hide();$(".scan-success-content").hide();d(function(){a()})});function a(){u();$(".qrcode-over-time").hide();$(".refush-content").hide();$(".scan-success-content").hide()}function l(){$(".qrcode-over-time").show();$(".scan-success-content").show();$(".refush-content").hide()}function c(){$(".qrcode-over-time").show();$(".scan-success-content").hide();$(".refush-content").show()}function u(){i=$.ajax({url:localInfo.asyncURL+"&t="+Math.random(),type:"post",timeout:3e4,beforeSend:function(e){e.setRequestHeader("Page-Token","undefined"==typeof pageToken?"":pageToken)},success:function(e,o,n){if(e.resultCode=="0"){f(e)}else if(e.resultCode=="103000201"){c()}else if(e.resultCode=="103000202"){l();u()}else{u()}},error:function(){if(e){u()}}})}function d(e){if(localInfo.createQrCodeType=="1"){var o=localInfo.getqrContent.split("?")[0];$.ajax({url:o,dataType:"json",type:"POST",data:{appID:getUrlParam(localInfo.getqrContent,"appID"),confirmFlag:getUrlParam(localInfo.getqrContent,"confirmFlag"),version:getUrlParam(localInfo.getqrContent,"version"),reqClientType:getUrlParam(localInfo.getqrContent,"reqClientType"),loginChannel:getUrlParam(localInfo.getqrContent,"loginChannel")},beforeSend:function(e){e.setRequestHeader("Page-Token","undefined"==typeof pageToken?"":pageToken)},success:function(o){renderType="canvas";if(/msie\s+(7|8)/.test(navigator.userAgent.toLowerCase())){renderType="table"}$(".qrcode").html("");$(".qrcode").qrcode({render:renderType,width:150,height:150,text:o.content});e()}})}else{$("#qrcodeImg .qrcode").attr("src",XSSGuard4URL(r+"&_t="+(new Date).getTime()));$("#qrcodeImg .qrcode").one("load",function(){e()})}}function f(e){var o='<form method="post" autocomplete="off" target="_parent" style="display: none;">'+'<input type="hidden" id="form_submitType" name="submitType"  value="autoLoginInner"/>'+'<input type="hidden" name="loginUrl"/>'+'<input type="hidden" name="service"/>'+'<input type="hidden" name="deviceID" value="7894564633456649" />'+'<input type="hidden" name="deviceType" value="0" />'+'<input type="hidden" name="loginChannel"/> '+'<input type="hidden" name="reqClientType"/>'+'<input type="hidden" id="form_userAccount" name="userAccount"/>'+'<input type="hidden" id="form_password" name="password"/>'+'<input type="hidden" id="form_authType" name="authType" value="1"/>'+'<input type="hidden" id="form_appID" name="appID" value="com.huawei.hwid"/>'+'<input type="hidden" id="form_opType" name="opType" value="3" />'+'<input type="submit" id="scanSmt" style="display: none;" />'+"</form>";$(document.body).append(o);$(document.body).find("form:last").attr("action",localInfo.postRemoteLogin);$(document.body).find("form:last input[name='loginUrl']").val(localInfo.loginUrl);$(document.body).find("form:last input[name='service']").val(localInfo.service);$(document.body).find("form:last input[name='loginChannel']").val(localInfo.loginChannel);$(document.body).find("form:last input[name='reqClientType']").val(localInfo.reqClientType);$(document.body).find("form:last input[name='userAccount']").val(e.userAccount);$(document.body).find("form:last input[name='password']").val(e.token);$("#scanSmt").click()}})()}function Z(){var t={$account:e,showErrorFn:function(e){H(e,"userName",$("#login_userName"))},reInputFn:function(){W("userName")}};accountValidator(t);validator.bind(o,{type:["require"],trim:false,validOnChange:true,min:8,max:32,errorFunction:function(e,o){switch(o.type){case"require":H(rss.common_js_inputpwd,"passWord",$("#login_password"));break}},successFunction:function(e){$("#login_msg").hide();e.removeClass("error")},reInputFunction:function(){W("passWord")}});validator.bind(i,{type:["require"],trim:false,validOnChange:true,min:8,max:32,errorFunction:function(e,o){switch(o.type){case"require":H(rss.common_js_inputpwd,"passWord",$("#twice_login_password"));break}},successFunction:function(e){$("#login_msg").hide();e.removeClass("error")},reInputFunction:function(){W("passWord")}});validator.bind(n,{type:["require","phoneNumber"],validOnChange:true,countryCode:"#smsLoginCountryCodeDiv .select-text",errorFunction:function(e,o){switch(o.type){case"require":H(rss.emptyphone,"phoneNum",$("#login_phoneNum"));break;case"phoneNumber":H(rss.phoneNumError,"phoneNum",$("#login_phoneNum"));break}},successFunction:function(){G();W("phoneNum")},reInputFunction:function(){G();W("phoneNum")}});var s=$("#smsRandomCode");s.validator("bind",{type:["require","length"],trim:true,validOnChange:false,max:4,min:4,reInputEvent:"keyup",errorFunction:function(e,o){H(rss.authCodeError,"smsRandomCode",$("#smsCaptcha"));$("#smsAuthCodeRight").removeClass("poptips-yes");switch(o.type){case"require":$("#smsRandomCode_msg").html(rss.common_js_inputcode);break;case"length":$("#smsRandomCode_msg").html(rss.login_js_codeerror);break}},successFunction:function(e,o){G()},reInputFunction:function(){W("smsRandomCode");$("#smsRandomCode_msg").html("");$("#smsAuthCodeRight").removeClass("poptips-yes");G()}});s.on("keyup",function(){var e=$(this).val();if(typeof $(this)[0]!="undefined"&&e.length>=4){var o="sms_login_session_ramdom_code_key";e=e.removeAllSpace();e=e.substring(0,4);$(this).val(e);var n={randomCode:e,session_code_key:o};casAjaxObj.authCodeValidate(n,t,r);function r(e){$("#smsRandomCode").val("");chgRandomCode($("#smsRandomCodeImg")[0],localInfo.webssoSMSLoginSessionCode);$("#smsAuthCodeRight").removeClass("poptips-yes");H(rss.authCodeError,"smsRandomCode",$("#smsCaptcha"));G();try{if(hwcap){hwcap.reload()}}catch(e){}}function t(){$("#smsAuthCodeRight").addClass("poptips-yes");$("#smsRandomCode_msg").html("");W("smsRandomCode");G()}}});validator.bind(r,{type:["require","length","number"],trim:true,min:4,max:8,validOnChange:true,msg:{require:rss.inputAuthCodeTip,length:rss.smsAuthCodeLength,number:rss.smsAuthCodeLength},errorFunction:function(e,o){switch(o.type){case"require":H(rss.common_js_inputsmscode,"smsAuthCode",$("#smsAuthCode"));break;case"length":H(rss.smsAuthCodeLength,"smsAuthCode",$("#smsAuthCode"));break;case"number":H(rss.smsAuthCodeLength,"smsAuthCode",$("#smsAuthCode"));break}},successFunction:function(e,o){},reInputFunction:function(){W("smsAuthCode")}});var a=$("#twiceRandomCode");a.validator("bind",{type:["require","length"],trim:true,validOnChange:false,max:4,min:4,reInputEvent:"keyup",errorFunction:function(e,o){H(rss.authCodeError,"twiceRandomCode",$("#twiceCaptcha"));$("#twiceAuthCodeRight").removeClass("poptips-yes");switch(o.type){case"require":$("#twiceCaptcha").html(rss.common_js_inputcode);break;case"length":$("#twiceCaptcha").html(rss.login_js_codeerror);break}},successFunction:function(e,o){},reInputFunction:function(){W("twiceRandomCode");$("#twiceCaptcha").html("");$("#twiceAuthCodeRight").removeClass("poptips-yes")}});a.on("keyup",function(){var e=$(this).val();if(typeof $(this)[0]!="undefined"&&e.length>=4){var o="login_session_ramdom_code_key";e=e.removeAllSpace();e=e.substring(0,4);$(this).val(e);var n={randomCode:e,session_code_key:o};casAjaxObj.authCodeValidate(n,t,r);function r(e){$("#twiceRandomCode").val("");chgRandomCode($("#twiceRandomCodeImg")[0],localInfo.reRegLoginSessionCode);$("#twiceAuthCodeRight").removeClass("poptips-yes");H(rss.authCodeError,"twiceRandomCode",$("#twiceCaptcha"));try{if(hwcap){hwcap.reload()}}catch(e){}}function t(){$("#twiceAuthCodeRight").addClass("poptips-yes");$("#twiceCaptcha").html("");W("twiceRandomCode")}}});validator.bind($("#twice_login_password"),{type:["require"],trim:false,validOnChange:true,min:8,max:32,errorFunction:function(e,o){switch(o.type){case"require":H(rss.common_js_inputpwd,"passWord",$("#twice_login_password"));break}},successFunction:function(e){$("#login_msg").hide();e.removeClass("error")},reInputFunction:function(){W("passWord")}})}function ee(){window.top.location.href=localInfo.regseterLink}function oe(e,o){var n="";var r={},t={};$.each(o,function(o,i){n=i.value.split(",")[1].substring(1);if(new RegExp("^00"+n+"[0-9]+$").test(e)){r.label=i.label;r.value=i.value}if(i.value.split(",")[0]==localInfo.urlCountryCode){t.label=i.label;t.value=i.value}});if(Object.keys(r).length>0){return r}else{return t}}function ne(e){if(typeof IFCLOUD!="undefined"){window.top.location.href=e}else{location.href=e}}window.getSMSCodeV3=w;window.agreeDFAgr=J;window.gotoresetpwd=V;window.loginWebPage=s;window.gotoRegister=ee;window.chgRandomCodeForLogin=L;window.showLoginErrorhide=W;window.showLoginError=H})();